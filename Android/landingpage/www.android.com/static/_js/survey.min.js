(function(m){var u={};function t(n){if(u[n])return u[n].exports;var i=u[n]={i:n,l:!1,exports:{}};return m[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=m,t.c=u,t.d=function(n,i,_){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:_})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){if(i&1&&(n=t(n)),i&8||i&4&&typeof n=="object"&&n&&n.__esModule)return n;var _=Object.create(null);if(t.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(var a in n)t.d(_,a,function(r){return n[r]}.bind(null,a));return _},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="/static/",t(t.s=457)})({1:function(m,u,t){"use strict";class n{constructor(_,a){this.uaEvent=_,this.triggers=a}}u.a=n},10:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(2);class i extends Error{constructor(a,r={}){super();this.errorNumber=`NimbleError-${a}`,this.message=`${this.errorNumber}: ${this.constructor.name}`,this.cause=r,Object(n.b)(`See Error ${this.errorNumber} below \u{1F447}`,this.cause),this.customDescriptor_={}}}},101:function(m,u,t){"use strict";t.r(u),t.d(u,"KEYCODES",function(){return n});var n=(i=>(i.ENTER="Enter",i.ESC="Escape",i.TAB="Tab",i.SPACE=" ",i.LEFT="ArrowLeft",i.RIGHT="ArrowRight",i.HOME="Home",i.END="End",i))(n||{})},105:function(m,u,t){"use strict";t.r(u),t.d(u,"DsSurvey",function(){return z});var n=t(6),i=t(25),_=t(101),a=t(157),r=t(24),p=t(13),d=t(47),f=Object.defineProperty,P=Object.defineProperties,D=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,o=(l,e,s)=>e in l?f(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s,c=(l,e)=>{for(var s in e||(e={}))C.call(e,s)&&o(l,s,e[s]);if(E)for(var s of E(e))I.call(e,s)&&o(l,s,e[s]);return l},y=(l,e)=>P(l,D(e)),A=(l=>(l.ALERT=".survey-default__alert",l.BACK=".survey-default__cta-back",l.COUNTER=".survey-panel__counter",l.END="#survey-panel-end",l.FORM=".survey-default__form",l.HEADER=".survey-panel--header",l.INPUT="input",l.NEXT=".survey-default__cta-next",l.PANEL_CONTAINER=".survey-default__panel-container",l.PANEL_SUBMITTED_CTA=".survey-panel--end__cta",l.PANEL_VISIBLE=".survey-panel.is-visible",l.QUESTIONS=".survey-panel--question",l.SEPARATOR=".survey-panel__separator",l.START="#survey-panel-start",l.SURVEY_CONTROLS=".survey-default__controls",l.SURVEY_PANEL=".survey-panel",l.TOTAL=".survey-panel__total-questions-for-os",l))(A||{}),S=(l=>(l.BLOCK="survey-default",l.CENTERED="centered",l.FADE="fade",l.FULL_HEIGHT="full-height",l.HIDDEN="hidden",l.SURVEY_UI="survey-default__ui",l.VISIBLE="is-visible",l.CONTROLS_END="flex-end",l))(S||{}),O=(l=>(l.START_PANEL="survey-panel--start",l))(O||{}),$=(l=>(l.BACK="back",l.CLOSE="close",l.COMPLETE="complete",l.DECLINE="decline",l.NAV="nav",l.NEXT="next",l.OPEN_TEXT_FIELD="Open Text Field",l.OPTOUT="optout-survey",l.SITE="site survey",l.START="start",l.START_LABEL="get started",l.STEP_VIEW="step view",l.STEP_COMPLETE="step complete",l.SURVEY_NAME="survey",l))($||{}),W=(l=>(l.DEFAULT="default",l.IPHONE="iphone",l))(W||{}),J=(l=>(l.DEFAULT="survey-default",l.DYNAMIC="survey-default-dynamic",l))(J||{});const X={version:{default:"a",iphone:"b"}},k="data-nimble-component-config",Y=2;class z extends n.a{constructor(e,s){super(e,s,[]);this.isEnabled=!1,this.indexQuestionList=[],this.isIOSDevice=!1,this.isDynamic=!1,this.validations=[],this.nextQuestions=[],this.flowNumber=0;var h,v,g;this.osQuestions=[],this.allQuestions=[],this.filteredPanels=[],this.currentQuestion=0,this.currentPanelConfig={},this.currentInputs=[],this.dao=a.a.get("short-term"),this.currentOS="default",this.indexQuestion=0,this.indexQuestionList=[],this.baseConfigAnalytics={eventCategory:"survey",moduleName:"survey-default"},this.version=this.config_.version,this.panelIndex=0,this.isDynamic=(v=(h=this.config_)==null?void 0:h.isDynamic)!=null?v:!1,this.validations=this.isDynamic&&(((g=this.config_)==null?void 0:g.validations)||[]),this.nextQuestions=[],this.currentPanelValue=0,this.flowNumber=0,this.isIOSDevice=Object(r.detectDevice)()===r.DeviceType.IOS,this.registerSurvey=this.registerSurvey.bind(this),this.enableSurvey=this.enableSurvey.bind(this),this.onKeydown=this.onKeydown.bind(this),this.closeSurvey=this.closeSurvey.bind(this),this.handleReadyStateChange=this.handleReadyStateChange.bind(this),this.handleCloseSurveyAnalytics=this.handleCloseSurveyAnalytics.bind(this)}hasConnected_(){var e,s;if(this.getSurveyElements(),this.dao.read(this.getSurveyCookieKey()))return;this.filterPanelsForCurrentOS(),this.setCounters(),this.nextPanel=this.filteredPanels[this.currentQuestion+1],this.__element.addEventListener("click",this.closeSurveyEventHandler.bind(this)),(e=this.nextBtn)==null||e.addEventListener("click",v=>this.changePanel(v)),(s=this.backBtn)==null||s.addEventListener("click",v=>{this.changePanel(v,!1),this.handBackEventAnalytics()}),this.store_.subscribe(this.actionTypes_.SHOW_SURVEY,this.enableSurvey),this.store_.subscribe(this.actionTypes_.CLOSE_SURVEY,this.closeSurvey),this.updatePanel(),this.setUiClass(),this.panelsLength=[...this.__element.querySelectorAll(".survey-panel")].length,this.indexQuestionList=this.config_.indexQuestionList||[],(this.isIOSDevice&&this.config_.id==="survey-default"||!this.isIOSDevice&&this.isDynamic&&this.config_.id==="survey-default-dynamic")&&this.registerSurvey()}getSurveyElements(){this.form=this.__element.querySelector(".survey-default__form"),this.alertElement=this.__element.querySelector(".survey-default__alert"),this.nextBtn=this.__element.querySelector(".survey-default__cta-next"),this.backBtn=this.__element.querySelector(".survey-default__cta-back"),this.panelContainer=this.__element.querySelector(".survey-default__panel-container"),this.startPanel=this.__element.querySelector("#survey-panel-start"),this.endPanel=this.__element.querySelector("#survey-panel-end"),this.currentPanel=this.__element.querySelector(".survey-panel.is-visible"),this.currentPanel&&(this.currentPanelConfig=Object(i.a)(this.currentPanel,"data-p-config"),this.currentPanelFilled=Object(i.a)(this.currentPanel,"data-p-filled")),this.allQuestions=this.__element.querySelectorAll(".survey-panel--question"),this.controls=this.__element.querySelector(".survey-default__controls")}filterPanelsForCurrentOS(){const e=Array.from(this.allQuestions);this.osQuestions=[...e.filter(s=>{this.currentOS=Object(r.detectDevice)()==="IOS"?"iphone":"default";const{osVisibility:h}=s.dataset;return JSON.parse(h).includes(this.currentOS)})],this.filteredPanels=[this.startPanel,...this.osQuestions,this.endPanel]}setCounters(){this.osQuestions.forEach((e,s)=>{const h=e.querySelector(".survey-panel__counter"),v=e.querySelector(".survey-panel__total-questions-for-os");if(h&&(h.innerText=(s+1).toString()),v&&(v.innerText=this.isDynamic?"":this.osQuestions.length.toString()),this.isDynamic){const g=e.querySelector(".survey-panel__separator");g&&g?.classList.add("hidden")}})}closeSurveyEventHandler(e){!e.target.closest(".survey-panel--end__cta")||this.closeSurvey(this.config_.id)}enableSurvey(e){e===this.config_.id&&(this.isEnabled=!0),this.isEnabled&&this.store_.commit(this.mutationTypes_.TRACKED_CUSTOM_EVENTS,{trackedCustomEvent:{ga4:!0,node:this.__element,ga4Id:d.a.SHOWN,surveyVersion:this.analyticVersion}})}onKeydown(e){e.key===_.KEYCODES.ESC&&this.closeSurvey(this.config_.id)}changePanel(e,s=!0){var h,v,g,b,x,T,U,R,B,G,j,F,M,N,L;if(e.preventDefault(),!this.isEnabled)return;if(this.currentSelectedInputs=this.getSelectedInputs(),this.handlePanelAnalytics(e),!s&&((h=this.currentPanelConfig)==null?void 0:h.ctas.back.action)==="close"||s&&((v=this.currentPanelConfig)==null?void 0:v.ctas.next.action)==="close"){this.closeSurvey(this.config_.id);return}if(!s&&((g=this.currentPanelConfig)==null?void 0:g.ctas.back.action)==="decline"){const Q={eventLabel:"decline"};this.store_.commit(this.mutationTypes_.TRACKED_CUSTOM_EVENTS,{trackedCustomEvent:{ga4:!0,node:this.__element,ga4Id:d.a.SURVEY_DECLINE,surveyVersion:this.analyticVersion}}),this.closeSurvey(this.config_.id,Q);return}if(s&&!this.currentPanelFilled){(b=this.alertElement)==null||b.classList.add("is-visible");return}const V=this.currentPanel;if((x=this.alertElement)==null||x.classList.remove("is-visible"),(T=this.panelContainer)==null||T.classList.add("fade"),(U=this.controls)==null||U.classList.add("flex-end"),this.setUiClass(!1),((R=this.currentPanelConfig)==null?void 0:R.submit)&&s&&(this.sendData(),this.handleCompleteSurveyAnalytics()),this.currentQuestion>0&&this.isDynamic&&((B=this.validations)==null?void 0:B.length)!==0)if(this.currentQuestion===1){const{currentPanel:Q,currentQuestion:K,nextPanel:w,previousPanel:H}=this.getOrderNextQuestions(this.currentPanelValue);this.currentQuestion=K,this.currentPanel=Q,this.nextPanel=w,this.previousPanel=H}else{const{currentQuestion:Q,currentPanel:K,nextPanel:w,previousPanel:H}=this.getNextQuestion(s,this.currentQuestion);this.currentQuestion=Q,this.currentPanel=K,this.nextPanel=w,this.previousPanel=H}else this.currentPanel=s?this.nextPanel:this.previousPanel,this.currentQuestion=s?this.currentQuestion+1:this.currentQuestion-1,this.nextPanel=this.filteredPanels[this.currentQuestion+1],this.previousPanel=this.filteredPanels[this.currentQuestion-1];this.currentPanel&&(this.currentPanelConfig=Object(i.a)(this.currentPanel,"data-p-config"),this.currentPanelFilled=Object(i.a)(this.currentPanel,"data-p-filled")),this.currentPanel&&(this.currentInputs=[...this.currentPanel.querySelectorAll("input")]),(G=this.currentPanelConfig)!=null&&G.centered?(j=this.panelContainer)==null||j.classList.add("centered"):(F=this.panelContainer)==null||F.classList.remove("centered"),V?.classList.remove("is-visible"),(M=this.currentPanel)==null||M.classList.add("is-visible"),(N=this.panelContainer)==null||N.classList.remove("fade"),this.setUiClass(),this.updatePanel(),this.handlePanelFilled(),(L=this.nextBtn)==null||L.blur()}getOrderNextQuestions(e){var s,h,v,g,b,x;const T=(s=this.validations)==null?void 0:s.find(M=>M.answer.includes(e));this.flowNumber=((v=(h=this.validations)==null?void 0:h.findIndex(M=>M.answer.includes(e)))!=null?v:0)+1,this.nextQuestions=T?.questions||[];const U=this.nextQuestions.length+1,R=((g=this.nextQuestions)==null?void 0:g[0])||0,B=((b=this.nextQuestions)==null?void 0:b[1])||0,G=this.filteredPanels[R],j=this.filteredPanels[B],F=this.filteredPanels[1];return(x=this.nextQuestions)==null||x.forEach((M,N)=>{if(this.filteredPanels[M]){const L=this.filteredPanels[M],V=L.querySelector(".survey-panel__counter"),Q=L.querySelector(".survey-panel__separator"),K=L.querySelector(".survey-panel__total-questions-for-os");V&&(V.textContent=(N+Y).toString()),Q&&Q?.classList.remove("hidden"),K&&(K.innerHTML=U.toString())}}),this.filteredPanels.forEach((M,N)=>{if(N>=Y&&N<this.filteredPanels.length-1){const L=[...M.querySelectorAll("input")];L.length!==0&&L.forEach(V=>{V.checked=!1})}}),{currentPanel:G,currentQuestion:R,nextPanel:j,previousPanel:F}}getNextQuestion(e,s){const h=this.nextQuestions.indexOf(s),v=h===0,g=h===this.nextQuestions.length-1;let b=-1,x=0;e?g?x=this.filteredPanels.length-1:(b=h+1,x=this.nextQuestions[b]):v?(x=1,this.flowNumber=0):(b=h-1,x=this.nextQuestions[b]);let T=this.filteredPanels.length-1,U=1;b>=0&&(b+1<this.nextQuestions.length&&(T=this.nextQuestions[b+1]),b-1>=0&&(U=this.nextQuestions[b-1]));const R=e?this.nextPanel:this.previousPanel,B=this.filteredPanels[T],G=this.filteredPanels[U];return{currentPanel:R,currentQuestion:x,nextPanel:B,previousPanel:G}}closeSurvey(e,s={}){if(!this.isEnabled||e!==this.config_.id)return;let h=y(c({},s),{surveyQuestionNumber:"decline"});const v=[".survey-default__panel-container",".survey-panel.is-visible"].join(" > ");if(!this.__element.querySelector(v).classList.contains("survey-panel--start")){const x=this.getQuestionNumber(!0),T=this.getQuestion(!0);h=y(c({},h),{surveyQuestionNumber:x,surveyQuestion:T})}this.isEnabled=!1,this.__element.classList.remove("full-height"),document.removeEventListener("keydown",this.onKeydown),this.store_.broadcast(this.actionTypes_.CLOSE_SURVEY,this.config_.id),this.optoutUser(),this.handleCloseSurveyAnalytics(h)}updatePanel(){var e,s,h,v;!this.isStarted&&((e=this.currentPanelConfig)==null?void 0:e.type)==="full-height"&&(this.isStarted=!0,this.__element.classList.add("full-height"),this.store_.broadcast(this.actionTypes_.START_SURVEY,this.config_.id),document.addEventListener("keydown",this.onKeydown)),this.updateCta(this.nextBtn,(s=this.currentPanelConfig)==null?void 0:s.ctas.next),this.updateCta(this.backBtn,(h=this.currentPanelConfig)==null?void 0:h.ctas.back),this.enableCurrentInputs(),this.setInputListeners(),this.panelIndex=(v=this.currentPanelConfig)==null?void 0:v.index}updateCta(e,s){const h=e.querySelector("span")||e;s.display?(e.classList.remove("hidden"),e.tabIndex=0):(e.classList.add("hidden"),e.tabIndex=-1),h.innerText=s.text}enableCurrentInputs(){this.currentInputs.forEach(e=>{e.tabIndex=0})}setInputListeners(){this.currentInputs.forEach(e=>{e.addEventListener("change",()=>{this.handlePanelFilled()})})}handlePanelFilled(){var e,s;let h=!0;if(this.currentInputs.length&&(h=this.currentInputs.some(v=>v.checked===!0)),this.currentPanelFilled=h,h&&((e=this.alertElement)==null||e.classList.remove("is-visible")),(s=this.currentPanel)==null||s.setAttribute("dataPFilled",h),h){const v=this.currentInputs.find(x=>x.checked),g=v?.id,b=Number(g?.split("_")[1])||0;this.currentPanelValue=b+1}}getSelectedInputs(){return this.currentInputs.filter(e=>e.checked===!0)}setUiClass(e=!0){var s,h;e?this.__element.classList.add(`survey-default__ui-${(s=this.currentPanel)==null?void 0:s.dataset.panel}`):this.__element.classList.remove(`survey-default__ui-${(h=this.currentPanel)==null?void 0:h.dataset.panel}`)}registerSurvey(){this.store_.broadcast(this.actionTypes_.REGISTER_SURVEY,{id:this.config_.id,data:this.config_.data}),this.handleLaunchForAnalytics(0)}sendData(){this.valdidateDataTosend(),this.formData=new FormData(this.form),this.submitData()}valdidateDataTosend(){this.wasSubmitted||!this.isEnabled||(this.wasSubmitted=!0)}handleReadyStateChange(){this.xhr&&this.xhr.readyState===4&&(this.xhr.status===200?this.optoutUser():this.submitRetries!==0?(this.submitRetries--,this.submitData()):console.error("Submission has been unsuccessful."))}submitData(){this.xhr=new XMLHttpRequest,this.xhr.onreadystatechange=this.handleReadyStateChange,this.xhr.open("POST",this.config_.endpoint,!0),this.xhr.send(this.formData)}optoutUser(){const e=new Date;e.setUTCMonth(e.getUTCMonth()+this.expireInMonths_);const s=this.getSurveyCookieKey();this.dao.save(s,"true",e)}getSurveyCookieKey(){var e;const s=Object(i.a)((e=this.form)==null?void 0:e.parentElement,k),{data:h}=s;return h?.customCookieKey||"optout-survey"}handlePanelAnalytics(e){this.indexQuestion=this.indexQuestionList[this.panelIndex]||this.panelIndex,this.handleStartEventAnalytics(e),this.handleNextEventAnalytics(e),this.handleSelectedInputsAnalytics()}handleStartEventAnalytics(e){var s;const h=e.target,v=!this.panelIndex,g=(s=this.backBtn)==null?void 0:s.contains(h),b={eventLabel:"get started",eventAction:this.getStepVersion("start")};let x=this.baseConfigAnalytics;g||v&&(x=y(c(c({},x),b),{ga4Id:d.a.START}),this.captureSurveyAnalyticsEvents(x),this.handleLaunchForAnalytics(1))}getQuestionNumber(e=!1){var s;const h=(s=this.currentPanel)==null?void 0:s.querySelector(".survey-panel__counter"),v=parseInt(h?.textContent||"0",10)+1;return e?v-1:v}getQuestion(e=!1){var s,h;return e?(s=this.currentPanel)==null?void 0:s.getAttribute("data-p-label"):(h=this.nextPanel)==null?void 0:h.getAttribute("data-p-label")}getQuestionResponse(){if(this.currentSelectedInputs.length>0)return this.currentSelectedInputs.map(s=>s.value.split(":")[0]).join("|").trim()}handleLaunchForAnalytics(e,s=!1){if(!this.isEnabled)return;const h=Object(i.a)(this.__element,"data-g-config"),v=this.getQuestion(s),g=this.indexQuestionList[e]||e;e===0||e===this.panelsLength-1||(h.eventLabel=`${g}-${v} `,h.eventAction=this.getStepVersion("step view"),this.captureSurveyAnalyticsEvents(y(c({},h),{ga4Id:d.a.STEP_VIEW,surveyQuestionNumber:this.getQuestionNumber()||1,surveyQuestion:this.getQuestion()})))}handleSelectedInputsAnalytics(){if(this.panelIndex>0&&this.panelIndex<this.panelsLength&&!this.currentSelectedInputs)return;const s=this.getQuestionResponse();if(!s)return;const h=this.getStepVersion("step complete"),v=`${this.indexQuestion}-${s}`,g={eventAction:h,eventLabel:v};this.captureSurveyAnalyticsEvents(y(c(c({},this.baseConfigAnalytics),g),{ga4Id:d.a.STEP_COMPLETE,surveyQuestionNumber:this.getQuestionNumber(!0),surveyQuestion:this.getQuestion(!0),surveyQuestionResponse:s}))}getStepVersion(e){return`site survey ${this.analyticVersion} - ${e}`}handleCloseSurveyAnalytics(e){const s=c(c({},this.setCloseDataAnalytics()),e);this.captureSurveyAnalyticsEvents(s)}setCloseDataAnalytics(){return y(c({},this.baseConfigAnalytics),{eventAction:this.getStepVersion("nav"),eventLabel:"close",ga4Id:d.a.SURVEY_CLOSE})}handleCompleteSurveyAnalytics(){const e=this.setCompleteDataAnalytics();this.captureSurveyAnalyticsEvents(y(c({},e),{ga4Id:d.a.SURVEY_COMPLETE,surveyQuestionNumber:this.getQuestionNumber(),surveyQuestion:this.getQuestion(),surveyQuestionResponse:this.getQuestionResponse()}))}setCompleteDataAnalytics(){return y(c({},this.baseConfigAnalytics),{eventAction:this.getStepVersion("complete"),eventLabel:"complete"})}handleNextEventAnalytics(e){var s,h;const v=e.target,b=(((s=this.currentPanelConfig)==null?void 0:s.ctas.next.action)||"").toLowerCase()==="next"&&this.panelIndex,x=this.setQuestionDataAnalytics(this.panelIndex-2,"next")||{};!((h=this.nextBtn)!=null&&h.contains(v))||(b&&this.currentPanelFilled&&this.handleLaunchForAnalytics(this.panelIndex+1),b&&this.captureSurveyAnalyticsEvents(y(c({},x),{ga4Id:d.a.SURVEY_NAV,surveyQuestionNumber:this.getQuestionNumber(),surveyQuestion:this.getQuestion()})))}handBackEventAnalytics(){const e=this.setQuestionDataAnalytics(this.panelIndex+1,"back");this.panelIndex&&(this.handleLaunchForAnalytics(this.panelIndex,!0),e&&this.captureSurveyAnalyticsEvents(y(c({},e),{ga4Id:d.a.SURVEY_NAV,surveyQuestionNumber:this.getQuestionNumber(!0),surveyQuestion:this.getQuestion(!0)})))}setQuestionDataAnalytics(e,s){const h={eventLabel:s,eventAction:""};let v=e,g=0;return s==="next"&&(v+=2),g=this.indexQuestionList[v]||v,h.eventAction=this.getStepVersion("nav"),y(c(c({},this.baseConfigAnalytics),h),{indexQuestion:g})}get analyticVersion(){const e=`${X.version[this.currentOS]}${this.flowNumber!==0?this.flowNumber:""}`;return`v${this.version}${e}`}captureSurveyAnalyticsEvents(e){const{currentScroll:s}=this.store_.getters;this.store_.commit(this.mutationTypes_.TRACKED_CUSTOM_EVENTS,{trackedCustomEvent:c({event:"trackEvent",scrollPosition:Object(p.getScrollPercentage)(s,this.global_),node:this.__element,surveyVersion:this.analyticVersion},e)})}}},11:function(m,u,t){"use strict";const n=window,i=_=>new n.Promise((a,r)=>{n.requestAnimationFrame(()=>{try{a(_())}catch(p){r(p)}})});u.a=i},13:function(m,u,t){"use strict";t.r(u),t.d(u,"getScrollPercentage",function(){return i});var n=t(52);function i(_,a){const{scrollHeight:r}=a.document.documentElement,p=r-a.innerHeight,d=Object(n.getPercentage)(p,_);return d||d===0?`${d}%`:void 0}},137:function(m,u,t){"use strict";t.d(u,"a",function(){return n});class n{constructor(_){this.global=_,this.prefix="and_"}generateKey(_){return`${this.prefix}${_}`}}},157:function(m,u,t){"use strict";t.d(u,"a",function(){return r});var n=t(160),i=t(159),_=t(158);const a=window;class r{static get(d){switch(d){case"short-term":return this.cookieStorageDao_=this.cookieStorageDao_||new _.a(a),this.cookieStorageDao_;case"persistent":return this.localStorageDao_=this.localStorageDao_||new i.a(a),this.localStorageDao_;case"temporary":default:return this.sessionStorageDao_=this.sessionStorageDao_||new n.a(a),this.sessionStorageDao_}}}},158:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(137);class i extends n.a{constructor(a){super(a);this.cookie=this.global.document.cookie}save(a,r,p,d="/"){const f=this.generateKey(a),P=p.toGMTString();return this.global.document.cookie=`${f}=${r}; expires=${P}; path=${d}`,this.read(a)}read(a){var r;const p=`${this.generateKey(a)}=`,d=(r=this.cookie)==null?void 0:r.split(";");for(let f=0;f<d.length;f++)if(d[f].indexOf(p)>-1)return d[f];return!1}delete(a){const r="expires=Thu, 01 Jan 1970 00:00:01 GMT";this.cookie=`${this.generateKey(a)}=; ${r}; path="/"`}}},159:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(137);class i extends n.a{constructor(a){super(a);this.storage=this.global.localStorage}save(a,r){const p=JSON.stringify(r);return this.storage.setItem(this.generateKey(a),p),this.read(a)}read(a){return JSON.parse(this.storage.getItem(this.generateKey(a)))}delete(a){this.storage.removeItem(this.generateKey(a))}}},160:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(137);class i extends n.a{constructor(a){super(a);this.storage=this.global.sessionStorage}save(a,r){const p=JSON.stringify(r);return this.storage.setItem(this.generateKey(a),p),this.read(a)}read(a){return JSON.parse(this.storage.getItem(this.generateKey(a)))}delete(a){this.storage.removeItem(this.generateKey(a))}}},19:function(m,u,t){"use strict";t.d(u,"a",function(){return C});var n=t(53),i=t(25),_=t(11),a=t(2),r=Object.defineProperty,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,P=(I,o,c)=>o in I?r(I,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):I[o]=c,D=(I,o)=>{for(var c in o||(o={}))d.call(o,c)&&P(I,c,o[c]);if(p)for(var c of p(o))f.call(o,c)&&P(I,c,o[c]);return I};class E{constructor(o){this.__element=o}static inject_(o,c){return Promise.all(this.dependencies_.map(y=>o.get(y))).then(y=>{y.forEach(({dependency:S,dependencyInstance:O})=>{S=`${this.prefix_}${S.charAt(0).toLowerCase()+S.slice(1)}`,this.prototype[S]=O});const A=this;return Object.keys(c).map(S=>{A.prototype[`${A.prefix_}${S}`]=c[S]}),this})}}E.dependencies_=[],E.prefix_="__";class C extends E{constructor(o){super(o);const{store:c,apis:y,actionTypes:A,mutationTypes:S}=this.__app;this.global_=y.global,this.isInitialized_=!1,this.actionTypes_=A,this.mutationTypes_=S,this.body_=y.document.body,this.store_=c,this.subscriptions_=[],this.config_=Object(i.a)(this.__element,"data-nimble-component-config"),this.visibilityId_="_nimble-vis",this.elementsToTrack_=[],this.initialize_=this.initialize_.bind(this),this.subscribe_=this.subscribe_.bind(this)}build(o){return this.isInitialized_?Promise.resolve(this):(this.willConnect_(),Object(_.a)(()=>{this.initialize_(),this.subscribe_(),this.isInitialized_=!0}).then(()=>(o&&typeof o=="function"&&o(),this.hasConnected_(),this)))}willConnect_(){}hasConnected_(){}log_(o,c,y=!1){Object(a.a)(o,c,y)}subscribe_(){this.store_.subscribe(this.subscriptions_)}initialize_(){}trackComponentVisibility_(o,c,y,A=!0,S=[]){if(y.threshold&&y.threshold.length)throw new n.a({element:this.__element});const O=D({root:null,rootMargin:"0px 0px 0px 0px",threshold:0},y);this.elementsToTrack_=S.length===0?[this.__element]:[...S],this.subscribeToVisibilityTopic_(o,c,A,O),this.generateVisibilityId_(O),this.store_.broadcast(this.actionTypes_.TRACK_VISIBILITY,{id:this.visibilityId_,data:{isTrack:!0,config:O,elementsToTrack:this.elementsToTrack_}})}subscribeToVisibilityTopic_(o,c,y,A){this.store_.subscribe(this.actionTypes_.VISIBILITY_TRIGGERED,({id:S,data:O})=>{this.trackComponentVisibilityCallback_(S,O.entries,O.observer,o,c,y,A.threshold)})}generateVisibilityId_(o){this.visibilityId_=`${this.visibilityId_}_threshold_${o.threshold}_root-margin_${o.rootMargin.split(" ").join("_")}`}untrackComponentVisibility_(){this.store_.broadcast(this.actionTypes_.TRACK_VISIBILITY,{id:this.visibilityId_,data:{isTrack:!1,elementsToTrack:this.elementsToTrack_}})}trackComponentVisibilityCallback_(o,c,y,A,S,O,$){o===this.visibilityId_&&c.forEach(W=>{this.__element!==W.target&&!this.elementsToTrack_.includes(W.target)||this.manageIntersection_({callbackIn:A,entry:W,ratio:$,trackOnce:O,observer:y,callbackOut:S})})}manageIntersection_({callbackIn:o,entry:c,ratio:y,trackOnce:A,observer:S,callbackOut:O}){o&&c.isIntersecting?(o(c),A&&S.unobserve(c.target)):O&&(O(c),A&&S.unobserve(c.target))}}},198:function(m,u,t){"use strict";t.r(u)},2:function(m,u,t){"use strict";t.d(u,"a",function(){return i}),t.d(u,"b",function(){return _});const n=(a,r={title:"",data:void 0},p={isTable:!1,isMain:!1})=>{if(window.nimbleEnv==="development"){const d=p.isMain?"font-size: 14px;font-weight: bold;":"margin-left: 16px;";typeof r.title=="string"?a(`%c ${r.title}`,d):a("",r.title),r.data&&(p.isTable?console.table(r.data):a(r.data))}},i=(a,r,p={isTable:!1,isMain:!1})=>{n(console.info,{title:a,data:r},p)},_=(a,r,p={isTable:!1,isMain:!1})=>{n(console.error,{title:a,data:r},p)};i("\u{1FAB5} Nimble Development Logger",null,{isMain:!0})},24:function(m,u,t){"use strict";t.r(u),t.d(u,"DeviceType",function(){return r}),t.d(u,"parseDevice",function(){return a}),t.d(u,"detectDevice",function(){return p}),t.d(u,"isSafari",function(){return d});var n=t(50);const i=(f,P)=>{try{const E=RegExp(`(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:${f})`,"i").exec(P);return E?E.slice(1):null}catch{return null}},_=(f,P)=>{const D=new RegExp("\\$\\d","g");return f==null?"":f.replace(D,E=>{const C=parseInt(E.substr(1),10);return P[C-1]||""})},a=f=>{const P={type:"",brand:"",model:""};for(const[D,E]of Object.entries(n.deviceList))if(!!i(E.regex,f)){P.brand=D;for(const I of E.models){const o=i(I.regex,f);if(!!o){P.model=_(I.model,o).trim(),P.type=I.device;break}}}return P};var r=(f=>(f.ANDROID="ANDROID",f.IOS="IOS",f.DESKTOP="DESKTOP",f))(r||{});const p=()=>{const f=navigator.userAgent.toLowerCase();return f.match(/android/i)?"ANDROID":f.match(/iphone|ipad|ipod/i)?"IOS":"DESKTOP"},d=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},25:function(m,u,t){"use strict";var n=t(54);const i=(r,p)=>{let d=r.getAttribute(p)||"",f;const P=/'/g;if(d=_(d),d=d.replace(/True/gi,!0),d=d.replace(/False/gi,!1),d=d.replace(/\\x/g,"_x"),!d)return{};try{f=JSON.parse(d.replace(P,'"')),f=a(f),Object.keys(f,(D,E)=>{typeof E=="string"&&(f[D]=decodeURIComponent(E))})}catch{throw new n.a}return f},_=r=>{const p=/\('/g,d=/'\)/g,f="__(__",P="__)__";return r=r.replace(p,f),r=r.replace(d,P),r},a=r=>{const p="('",d="')",f=/__\(__/g,P=/__\)__/g;return r=JSON.stringify(r),r=r.replace(f,p),r=r.replace(P,d),JSON.parse(r)};u.a=i},457:function(m,u,t){t(105),m.exports=t(198)},47:function(m,u,t){"use strict";t.d(u,"a",function(){return E});var n=t(1),i=Object.defineProperty,_=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,f=(o,c,y)=>c in o?i(o,c,{enumerable:!0,configurable:!0,writable:!0,value:y}):o[c]=y,P=(o,c)=>{for(var y in c||(c={}))p.call(c,y)&&f(o,y,c[y]);if(r)for(var y of r(c))d.call(c,y)&&f(o,y,c[y]);return o},D=(o,c)=>_(o,a(c)),E=(o=>(o.SHOWN="survey_prompt_shown",o.START="survey_start",o.STEP_VIEW="survey_step_view",o.STEP_COMPLETE="survey_step_complete",o.SURVEY_COMPLETE="survey_complete",o.SURVEY_NAV="survey_nav",o.SURVEY_CLOSE="survey_close",o.SURVEY_DECLINE="survey_decline",o))(E||{});const C=class extends n.a{constructor(o){super(o,C.triggers)}getCustomParams(){const o={survey_question_number:this.uaEvent.surveyQuestionNumber,survey_question:this.uaEvent.surveyQuestion};return["survey_step_view","survey_close"].includes(this.uaEvent.ga4Id)?o:["survey_step_complete"].includes(this.uaEvent.ga4Id)?D(P({},o),{survey_question_response:this.uaEvent.surveyQuestionResponse}):this.uaEvent.ga4Id==="survey_nav"?D(P({},o),{survey_nav_action:this.uaEvent.eventLabel}):{}}getParams(){const o={event:this.uaEvent.ga4Id,survey_version:this.uaEvent.surveyVersion};return["survey_prompt_shown","survey_start","survey_decline","survey_complete"].includes(this.uaEvent.ga4Id)?o:P(P({},o),this.getCustomParams())}};let I=C;I.triggers=Object.values(E),u.b=I},50:function(m,u,t){"use strict";t.r(u),t.d(u,"deviceList",function(){return n});const n={Samsung:{regex:"SAMSUNG(?! ?Browser)|Maple (?!III)|SC-(?:01[FGHKLM]|02[CGHJKLM]|03[JKL]|04[EJL]|05[GL]|(?:4[12]|5[1234])A)|N[57]100|N5110|N9100|S(?:CH|GH|PH|EC|AM|HV|HW|M)-|SMART-TV|GT-|(?<!GOG|GOG )Galaxy|(?:portalmmm|o2imode)/2\\.0 [SZ]|sam[rua]|vollo Vi86(?:[);/ ]|$)|(?:OTV-)?SMT-E5015|ISW11SC|SCV4[0-9]|SCV3[1-9]|40[34]SC|SCL2[234]|SCG0[1-7]|SCT21",models:[{regex:"(?:SAMSUNG-)?SM-S901(?:U1|[0BNUW])",model:"Galaxy S22 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-S908(?:U1|[0BNUW])",model:"Galaxy S22 Ultra 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-S906(?:U1|[0BNWU])",model:"Galaxy S22+ 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-S911(?:U1|[0BNUW])",model:"Galaxy S23 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-S918(?:U1|[0BNUW])",model:"Galaxy S23 Ultra 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-S916(?:U1|[0BNWU])",model:"Galaxy S23+ 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-F936(?:U1|[0BNQUW])",model:"Galaxy Z Fold 4 5G",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-F721(?:U1|[0FNUW])",model:"Galaxy Z Flip 4",device:"Mobile"},{regex:"(?:SAMSUNG-)?SM-X70(?:[06])",model:"Galaxy Tab S8",device:"Tablet"},{regex:"(?:SAMSUNG-)?SM-X80(?:[06])",model:"Galaxy Tab S8+",device:"Tablet"},{regex:"(?:SAMSUNG-)?SM-X90(?:[06])",model:"Galaxy Tab S8 Ultra",device:"Tablet"},{regex:"(?:SAMSUNG-)?SM-R9(?:15F|05F)",model:"Galaxy Watch 5",device:"Wear"},{regex:"(?:SAMSUNG-)?SM-R925F",model:"Galaxy Watch 5 Pro",device:"Wear"}]},Google:{regex:"Pixel(?: Build|\\))|Pixel (?:XL|C|[7-8]|[7-8] XL|Tablet|Watch)",models:[{regex:"pixel ([7-8])",model:"Pixel $1",device:"Mobile"},{regex:"pixel tablet",model:"Pixel Tablet",device:"Tablet"},{regex:"pixel watch",model:"Pixel Watch",device:"Wear"}]}}},51:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(10);class i extends n.a{constructor(a){super(6,a)}}},52:function(m,u,t){"use strict";t.r(u),t.d(u,"getPercentage",function(){return n}),t.d(u,"guid",function(){return i});function n(_,a){const r=_!==0?a/_*100:void 0;return r&&Math.round(r)}const i=()=>{const _=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1);return Array(4).fill(_()).join("-")}},53:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(10);class i extends n.a{constructor(a){super(3,a)}}},54:function(m,u,t){"use strict";t.d(u,"a",function(){return i});var n=t(10);class i extends n.a{constructor(){super(7)}}},6:function(m,u,t){"use strict";t.d(u,"a",function(){return _});var n=t(19),i=t(51);class _ extends n.a{constructor(r,p,d){super(r);this.listeners_=d,this.react_=this.react_.bind(this)}hasConnected_(){this.store_.subscribe("STATE_CHANGED",this.react_)}react_({key:r,value:p}){if(!this.listeners_.includes(r))return;const d=this[`${r}Changed`];if(!d)throw new i.a({name:`${r}Changed`,instance:this});d.call(this,p)}}_.dependencies_=["scroll","breakpoint"]}});
