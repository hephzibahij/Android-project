(function(f){var o={};function t(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return f[e].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=f,t.c=o,t.d=function(e,n,c){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:c})},t.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(n&1&&(e=t(e)),n&8||n&4&&typeof e=="object"&&e&&e.__esModule)return e;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),n&2&&typeof e!="string")for(var _ in e)t.d(c,_,function(i){return e[i]}.bind(null,_));return c},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/static/",t(t.s=456)})({10:function(f,o,t){"use strict";t.d(o,"a",function(){return n});var e=t(2);class n extends Error{constructor(_,i={}){super();this.errorNumber=`NimbleError-${_}`,this.message=`${this.errorNumber}: ${this.constructor.name}`,this.cause=i,Object(e.b)(`See Error ${this.errorNumber} below \u{1F447}`,this.cause),this.customDescriptor_={}}}},104:function(f,o,t){"use strict";t.r(o),t.d(o,"StickyDialog",function(){return i});var e=t(48),n=t(6),c=(l=>(l.BLOCK_SCROLL="android-global-disable-scroll",l.CLOSED="is-closed",l.IS_OVERLAY="is-overlay",l))(c||{}),_=(l=>(l.CLOSE=".js-sticky-dialog__close",l.DIALOG=".sticky-dialog",l))(_||{});class i extends n.a{constructor(s,u){super(s,u,[]);this.isShown=!0,this.isOverlayElement=!0,this.show=this.show.bind(this),this.start=this.start.bind(this),this.close=this.close.bind(this)}hasConnected_(){super.hasConnected_(),this.closeBtn=this.__element.querySelector(".js-sticky-dialog__close"),this.htmlElement=this.global_.document.documentElement,this.setEvents(),this.store_.subscribe(this.actionTypes_.SHOW_SURVEY,this.show),this.store_.subscribe(this.actionTypes_.START_SURVEY,this.start),this.store_.subscribe(this.actionTypes_.CLOSE_SURVEY,this.close)}setEvents(){this.__element.addEventListener("click",this.closeDialogHandler.bind(this)),this.global_.addEventListener("mousedown",s=>{this.checkClickedElement.bind(this)}),this.global_.addEventListener("mouseup",s=>{this.handleOverlay.bind(this)})}closeDialogHandler(s){!s.target.closest(".js-sticky-dialog__close")||this.close(this.config_.id)}show(s){s===this.config_.id&&(this.isShown=!0,this.__element.classList.remove("is-closed"),this.closeBtn&&(this.closeBtn.tabIndex=0))}start(s){s===this.config_.id&&(this.focusTrap=Object(e.focusTrap)({element:this.__element,firstElement:this.__element}),this.htmlElement.classList.add("android-global-disable-scroll"),this.__element.classList.add("is-overlay"))}close(s){var u;s===this.config_.id&&this.isShown&&(this.isShown=!1,this.__element.classList.add("is-closed"),this.store_.broadcast(this.actionTypes_.CLOSE_SURVEY,this.config_.id),this.__element.classList.remove("is-overlay"),this.closeBtn&&(this.closeBtn.tabIndex=-1),this.htmlElement.classList.remove("android-global-disable-scroll"),(u=this.focusTrap)==null||u.deactivate())}handleOverlay(s){this.isOverlayElement&&this.close(this.config_.id)}checkClickedElement(s){this.isOverlayElement=s.target===this.__element}}},11:function(f,o,t){"use strict";const e=window,n=c=>new e.Promise((_,i)=>{e.requestAnimationFrame(()=>{try{_(c())}catch(l){i(l)}})});o.a=n},19:function(f,o,t){"use strict";t.d(o,"a",function(){return y});var e=t(53),n=t(25),c=t(11),_=t(2),i=Object.defineProperty,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,b=(E,r,a)=>r in E?i(E,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):E[r]=a,T=(E,r)=>{for(var a in r||(r={}))s.call(r,a)&&b(E,a,r[a]);if(l)for(var a of l(r))u.call(r,a)&&b(E,a,r[a]);return E};class g{constructor(r){this.__element=r}static inject_(r,a){return Promise.all(this.dependencies_.map(h=>r.get(h))).then(h=>{h.forEach(({dependency:d,dependencyInstance:m})=>{d=`${this.prefix_}${d.charAt(0).toLowerCase()+d.slice(1)}`,this.prototype[d]=m});const p=this;return Object.keys(a).map(d=>{p.prototype[`${p.prefix_}${d}`]=a[d]}),this})}}g.dependencies_=[],g.prefix_="__";class y extends g{constructor(r){super(r);const{store:a,apis:h,actionTypes:p,mutationTypes:d}=this.__app;this.global_=h.global,this.isInitialized_=!1,this.actionTypes_=p,this.mutationTypes_=d,this.body_=h.document.body,this.store_=a,this.subscriptions_=[],this.config_=Object(n.a)(this.__element,"data-nimble-component-config"),this.visibilityId_="_nimble-vis",this.elementsToTrack_=[],this.initialize_=this.initialize_.bind(this),this.subscribe_=this.subscribe_.bind(this)}build(r){return this.isInitialized_?Promise.resolve(this):(this.willConnect_(),Object(c.a)(()=>{this.initialize_(),this.subscribe_(),this.isInitialized_=!0}).then(()=>(r&&typeof r=="function"&&r(),this.hasConnected_(),this)))}willConnect_(){}hasConnected_(){}log_(r,a,h=!1){Object(_.a)(r,a,h)}subscribe_(){this.store_.subscribe(this.subscriptions_)}initialize_(){}trackComponentVisibility_(r,a,h,p=!0,d=[]){if(h.threshold&&h.threshold.length)throw new e.a({element:this.__element});const m=T({root:null,rootMargin:"0px 0px 0px 0px",threshold:0},h);this.elementsToTrack_=d.length===0?[this.__element]:[...d],this.subscribeToVisibilityTopic_(r,a,p,m),this.generateVisibilityId_(m),this.store_.broadcast(this.actionTypes_.TRACK_VISIBILITY,{id:this.visibilityId_,data:{isTrack:!0,config:m,elementsToTrack:this.elementsToTrack_}})}subscribeToVisibilityTopic_(r,a,h,p){this.store_.subscribe(this.actionTypes_.VISIBILITY_TRIGGERED,({id:d,data:m})=>{this.trackComponentVisibilityCallback_(d,m.entries,m.observer,r,a,h,p.threshold)})}generateVisibilityId_(r){this.visibilityId_=`${this.visibilityId_}_threshold_${r.threshold}_root-margin_${r.rootMargin.split(" ").join("_")}`}untrackComponentVisibility_(){this.store_.broadcast(this.actionTypes_.TRACK_VISIBILITY,{id:this.visibilityId_,data:{isTrack:!1,elementsToTrack:this.elementsToTrack_}})}trackComponentVisibilityCallback_(r,a,h,p,d,m,O){r===this.visibilityId_&&a.forEach(v=>{this.__element!==v.target&&!this.elementsToTrack_.includes(v.target)||this.manageIntersection_({callbackIn:p,entry:v,ratio:O,trackOnce:m,observer:h,callbackOut:d})})}manageIntersection_({callbackIn:r,entry:a,ratio:h,trackOnce:p,observer:d,callbackOut:m}){r&&a.isIntersecting?(r(a),p&&d.unobserve(a.target)):m&&(m(a),p&&d.unobserve(a.target))}}},197:function(f,o,t){"use strict";t.r(o)},2:function(f,o,t){"use strict";t.d(o,"a",function(){return n}),t.d(o,"b",function(){return c});const e=(_,i={title:"",data:void 0},l={isTable:!1,isMain:!1})=>{if(window.nimbleEnv==="development"){const s=l.isMain?"font-size: 14px;font-weight: bold;":"margin-left: 16px;";typeof i.title=="string"?_(`%c ${i.title}`,s):_("",i.title),i.data&&(l.isTable?console.table(i.data):_(i.data))}},n=(_,i,l={isTable:!1,isMain:!1})=>{e(console.info,{title:_,data:i},l)},c=(_,i,l={isTable:!1,isMain:!1})=>{e(console.error,{title:_,data:i},l)};n("\u{1FAB5} Nimble Development Logger",null,{isMain:!0})},25:function(f,o,t){"use strict";var e=t(54);const n=(i,l)=>{let s=i.getAttribute(l)||"",u;const b=/'/g;if(s=c(s),s=s.replace(/True/gi,!0),s=s.replace(/False/gi,!1),s=s.replace(/\\x/g,"_x"),!s)return{};try{u=JSON.parse(s.replace(b,'"')),u=_(u),Object.keys(u,(T,g)=>{typeof g=="string"&&(u[T]=decodeURIComponent(g))})}catch{throw new e.a}return u},c=i=>{const l=/\('/g,s=/'\)/g,u="__(__",b="__)__";return i=i.replace(l,u),i=i.replace(s,b),i},_=i=>{const l="('",s="')",u=/__\(__/g,b=/__\)__/g;return i=JSON.stringify(i),i=i.replace(u,l),i=i.replace(b,s),JSON.parse(i)};o.a=n},456:function(f,o,t){t(104),f.exports=t(197)},48:function(f,o,t){"use strict";t.r(o),t.d(o,"focusTrap",function(){return l}),t.d(o,"GLOBAL_ELEMENTS",function(){return e});const e=["main","footer","[role='dialog']"],n={ESC:"Escape",TAB:"Tab"};function c(s){return()=>s.focus()}function _(s){return Array.from(s.querySelectorAll("a[href], button, textarea, input, [tabindex]")).slice(-1)[0]}function i(s,u,b,T,g){s.key===n.ESC&&(c(T),g&&g()),s.key===n.TAB&&(s.shiftKey?document.activeElement===u&&(b.focus(),s.preventDefault()):document.activeElement===b&&(u.focus(),s.preventDefault()))}function l({triggerElement:s,element:u,firstElement:b,lastElement:T,toggleListener:g,clickOutsideDeactivates:y=!0,onDeactivate:E}){const r=s||document.body,a=h=>{i(h,b,T||_(u),r,E)};if(!g)return u.removeEventListener("keydown",a),{deactivate:c(r)};if(u.addEventListener("keydown",a),b.focus(),y){const h=p=>{const d=p.target;[s,u].some(m=>m?.contains(d))||(document.documentElement.removeEventListener("click",h),E&&E())};document.documentElement.addEventListener("click",h)}return{deactivate:c(r)}}},51:function(f,o,t){"use strict";t.d(o,"a",function(){return n});var e=t(10);class n extends e.a{constructor(_){super(6,_)}}},53:function(f,o,t){"use strict";t.d(o,"a",function(){return n});var e=t(10);class n extends e.a{constructor(_){super(3,_)}}},54:function(f,o,t){"use strict";t.d(o,"a",function(){return n});var e=t(10);class n extends e.a{constructor(){super(7)}}},6:function(f,o,t){"use strict";t.d(o,"a",function(){return c});var e=t(19),n=t(51);class c extends e.a{constructor(i,l,s){super(i);this.listeners_=s,this.react_=this.react_.bind(this)}hasConnected_(){this.store_.subscribe("STATE_CHANGED",this.react_)}react_({key:i,value:l}){if(!this.listeners_.includes(i))return;const s=this[`${i}Changed`];if(!s)throw new n.a({name:`${i}Changed`,instance:this});s.call(this,l)}}c.dependencies_=["scroll","breakpoint"]}});
