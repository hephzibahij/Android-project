import{i as ct,e as l,t as d,s as g,o as me,b,a as p,r as u,y as c,c as S,d as ue,f as w,g as $e,l as De,h as xt,j as Je}from"./vendor.min.js";(function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0})}function t(s){if(s.ep)return;s.ep=!0;const a=function(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}(s);fetch(s.href,a)}})();var o=(e=>(e.GOOGLE_CAST="google-cast",e.GOOGLE_PLAY_PROTECT="google-play-protect",e.PRIVATE_SPACE="private-space",e.THEFT_DETECTION="theft-detection",e.CIRCLE_TO_SEARCH="circle-to-search",e.GEMINI_ON_ANDROID="gemini-on-android",e))(o||{}),z=(e=>(e.GAME_SELECTION_PAGE="game-selection-page",e.GAME_START_PAGE="game-start-page",e.GAME_PAGE="game-page",e.GAME_END_PAGE="game-end-page",e))(z||{});const ae=[o.GOOGLE_PLAY_PROTECT,o.THEFT_DETECTION,o.GEMINI_ON_ANDROID,o.CIRCLE_TO_SEARCH,o.PRIVATE_SPACE,o.GOOGLE_CAST];var k=(e=>(e.CHECKMARK="checkmark",e.CROSS="cross",e.ARROW_RIGHT="arrow_right",e.ARROW="arrow",e.ANDROID="android",e.REFRESH="refresh",e.FLAG="flag",e.GAME_ON_LOGO="game-on-logo",e.SHARE="share",e.X="x",e.FACEBOOK="facebook",e.NONE="",e))(k||{}),h=(e=>(e.TUTORIAL="tutorial",e.SUCCESS="success",e.FAILURE="failure",e))(h||{}),I=(e=>(e[e.INITIAL=0]="INITIAL",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED",e))(I||{}),A=(e=>(e[e.AVOID_SPAM=0]="AVOID_SPAM",e[e.GEMINI_ON_ANDROID=1]="GEMINI_ON_ANDROID",e))(A||{}),ge=(e=>(e.VIDEO="video",e.PDF="pdf",e.IMAGE="image",e.TRIP="trip",e.HELP="help",e.BRAINSTORM="brainstorm",e))(ge||{}),Te=(e=>(e.TUTORIAL_REMEMBER="tutorial-remember",e.TUTORIAL_HIDE="tutorial-hide",e))(Te||{});const et='<img src="https://lh3.googleusercontent.com/v0aTWE8O7sxXLNHetAiWQLabtGjlFoJIjhefHWCQ2gBDMOW-MS3hE-Cg0cxUZ-2tXCWUvCEZGQKOizxsOWyEERIguq8UIfhfdEVwdk4cJc4ofCVUsw=s0" style="height: 30px;">',m={general:{gameCardPlayCta:"Play",gameCardReplayCta:"Replay",featureDiscoveryPage:{title:"Well done!",description:"You learned about new and upcoming Android features!"},shareScreenReturnCta:"Learn More",featureDiscoveryFinishCta:"Next"},[o.GOOGLE_CAST]:{home:{gameCard:{title:"Google Cast",description:"Play your media on more screens and devices."}},splashPage:{title:"Cast the Android Bot",description:"Reveal the complete image by tapping across screens."},finishModal:{title:"Good job!",description:"You revealed the Android Bot!",scoreLabel:""},featureDiscoveryPage:{label:"You discovered a new feature!",title:"Google Cast",description:"Soon, you'll be able to cast content to more screens and devices, including your car!",cta:"Next game",disclaimer:"Works on compatible apps, devices, and vehicles.<br/> Connected vehicle required.<br/> Devices sold separately."},botMessages:{[h.TUTORIAL]:"Tap on the devices to cast the Android Bot.",[h.SUCCESS]:"You completed the Android Bot!",[h.FAILURE]:""}},[o.CIRCLE_TO_SEARCH]:{home:{gameCard:{title:"Circle to Search",description:"Spot the Android Bot hidden in the McLaren photos."}},splashPage:{title:"Find the Android Bot!",description:"Tap the screen where the Android Bot is hiding."},finishModal:{title:"Great job!",description:"You found:",scoreLabel:"{{score}} out of {{maxScore}} Android Bots"},featureDiscoveryPage:{label:"You discovered a new feature!",title:"Circle to Search",description:"Search what’s on your phone, without switching apps. Search text or images, translate text, and get help on homework problems too!",cta:"Next game",disclaimer:"Works on compatible apps and devices.<br/> Regional availability may vary.<br/> Results may vary depending on visual matches."},botMessages:{[h.TUTORIAL]:"Track down the Android Bot and tap on it",[h.SUCCESS]:"You found the Android Bot!",[h.FAILURE]:"The Android Bot is somewhere else!"}},[o.GOOGLE_PLAY_PROTECT]:{home:{gameCard:{title:"Google Play Protect",description:"Race around the scams on the road ahead."}},splashPage:{title:"Get ready for the race!",description:"Dodge the obstacles by tapping to switch lanes."},finishModal:{title:"Congrats!",description:"You reached the finish line.",scoreLabel:"Your time: {{score}}"},featureDiscoveryPage:{label:"You discovered a new feature!",title:"Google Play Protect",description:"With Android, you’ll get on-device protection against fraud. Live threat detection will identify apps that engage in bad behavior so you can steer clear. Coming later this year.",cta:"Next game",disclaimer:"Works on compatible apps and devices.<br/> Regional availability may vary."},botMessages:{[h.TUTORIAL]:"Tap a lane to switch to it.",[h.SUCCESS]:"You’re in the clear!",[h.FAILURE]:"Watch out!"}},[o.GEMINI_ON_ANDROID]:{home:{gameCard:{title:"Gemini on Android",description:"Supercharge your creativity and productivity, one task at a time."}},splashPage:{title:`Supercharge your ideas with ${et}`,description:"Get help with writing, brainstorming, learning, and more."},finishModal:{title:"Congrats!",description:"You got more done with Gemini.",scoreLabel:"Tasks completed: {{score}}"},featureDiscoveryPage:{label:"You discovered a new feature!",title:`${et} on Android`,description:'We’re enhancing Gemini to be more context aware, integrated, and helpful in the moment on Android.<br/><br/> <span style="font-style: italic;">Updates coming soon. Download the Gemini app.</span>',cta:"Next game",disclaimer:"The Gemini overlay is available on select devices,<br/> languages, and countries.<br/> Internet connection required.<br/> Check responses for accuracy."},botMessages:{[h.TUTORIAL]:"Tap to move and take on your tasks.",[h.SUCCESS]:{[ge.VIDEO]:"You got a detail from that YouTube video!",[ge.PDF]:"You got quick insights from that PDF!",[ge.IMAGE]:"You generated an image!",[ge.TRIP]:"You planned a trip!",[ge.HELP]:"You got writing help!",[ge.BRAINSTORM]:"You brainstormed a new idea!"},[h.FAILURE]:"You missed a task!"}},[o.PRIVATE_SPACE]:{home:{gameCard:{title:"Private space",description:"Lock down or hide sensitive apps."}},splashPage:{title:"Control who sees your apps",description:"Add them to your private space in the suggested order."},finishModal:{title:"Good job!",description:"You locked down your apps.",scoreLabel:""},featureDiscoveryPage:{label:"You discovered a feature!",title:"Private space",description:"On Android, you’ll be able to set up a private space: a new separate area for apps that can be locked and hidden from view.<br/>Coming this fall with Android 15.",cta:"Next game",disclaimer:"Works on compatible apps and devices."},botMessages:{[h.TUTORIAL]:{[Te.TUTORIAL_REMEMBER]:"Remember the order of the apps to lock.",[Te.TUTORIAL_HIDE]:"Now lock the apps in the same order."},[h.SUCCESS]:"The apps are locked!",[h.FAILURE]:"You left an app out!"}},[o.THEFT_DETECTION]:{home:{gameCard:{title:"Theft Detection Lock",description:"Keep your phone secure with AI-powered theft detection, even if it’s stolen."}},splashPage:{title:"Watch that phone!",description:"Keep the snatchers away, knowing Android has Theft Detection Lock to keep things secure."},finishModal:{title:"Nice!",description:"You were fast! And don’t worry, Android protects your device.",scoreLabel:""},featureDiscoveryPage:{label:"You discovered a new feature!",title:"Theft Detection Lock",description:"Your Android phone uses AI to detect when it’s been snatched — and automatically locks down to protect your data.",cta:"Next game",disclaimer:"Works on compatible apps and devices.<br/> Regional availability may vary."},botMessages:{[h.TUTORIAL]:"Tap the hands trying to grab your phone.",[h.SUCCESS]:"You kept the thief away!",[h.FAILURE]:"Your phone automatically locked down."}}},tt={},L=function(e,t,s){if(!t||t.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(t.map(n=>{if((n=function(oe){return"/"+oe}(n))in tt)return;tt[n]=!0;const i=n.endsWith(".css"),r=i?'[rel="stylesheet"]':"";if(s)for(let oe=a.length-1;oe>=0;oe--){const Pe=a[oe];if(Pe.href===n&&(!i||Pe.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${r}`))return;const ne=document.createElement("link");return ne.rel=i?"stylesheet":"modulepreload",i||(ne.as="script",ne.crossOrigin=""),ne.href=n,document.head.appendChild(ne),i?new Promise((oe,Pe)=>{ne.addEventListener("load",oe),ne.addEventListener("error",()=>Pe(new Error(`Unable to preload CSS for ${n}`)))}):void 0})).then(()=>e())},Tt=ct`:host,:host svg{display:block;height:100%;pointer-events:none;width:100%;inline-size:auto}`;var Et=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,He=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?kt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Et(t,s,i),i};const wt=Object.assign({"../../../asset/svg/android.svg":()=>L(()=>import("./android.min.js"),[]).then(e=>e.default),"../../../asset/svg/arrow.svg":()=>L(()=>import("./arrow.min.js"),[]).then(e=>e.default),"../../../asset/svg/arrow_right.svg":()=>L(()=>import("./arrow_right.min.js"),[]).then(e=>e.default),"../../../asset/svg/checkmark.svg":()=>L(()=>import("./checkmark.min.js"),[]).then(e=>e.default),"../../../asset/svg/cross.svg":()=>L(()=>import("./cross.min.js"),[]).then(e=>e.default),"../../../asset/svg/facebook.svg":()=>L(()=>import("./facebook.min.js"),[]).then(e=>e.default),"../../../asset/svg/flag-alt.svg":()=>L(()=>import("./flag-alt.min.js"),[]).then(e=>e.default),"../../../asset/svg/flag.svg":()=>L(()=>import("./flag.min.js"),[]).then(e=>e.default),"../../../asset/svg/game-on-logo.svg":()=>L(()=>import("./game-on-logo.min.js"),[]).then(e=>e.default),"../../../asset/svg/refresh.svg":()=>L(()=>import("./refresh.min.js"),[]).then(e=>e.default),"../../../asset/svg/share.svg":()=>L(()=>import("./share.min.js"),[]).then(e=>e.default),"../../../asset/svg/x.svg":()=>L(()=>import("./x.min.js"),[]).then(e=>e.default)});let ke=class extends g{constructor(){super(...arguments),this.icon=k.CROSS}async willUpdate(e){if(!this.icon||!e.has("icon"))return;const t=await wt[`../../../asset/svg/${this.icon}.svg`]();typeof t=="string"&&(this._svg=t)}render(){return this._svg?me(this._svg):b}};ke.styles=Tt,He([l({type:String})],ke.prototype,"icon",2),He([d()],ke.prototype,"_svg",2),ke=He([p("atom-icon")],ke);var Gt=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,we=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Ot(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Gt(t,s,i),i};let re=class extends g{constructor(){super(...arguments),this.icon=k.CROSS,this.variant="transparent",this.ariaLabel=""}emitClick(){this.dispatchEvent(new CustomEvent("clicked"))}render(){return c`<button @click="${this.emitClick}" class="button ${S({"icon-button":Boolean(!this.text?.length),[this.variant]:!0})}" aria-label="${this.ariaLabel}">${this.text}${this.icon?c`<atom-icon class="icon" icon="${this.icon}"></atom-icon>`:b}</button>`}};re.styles=u(`:host{display:block;inline-size:fit-content}.button{display:flex;gap:8px;align-items:center;justify-content:center;inline-size:100%;block-size:fit-content;border-radius:1000px;font-size:16px;line-height:24px;letter-spacing:.3px;font-weight:700;border:none;block-size:48px;padding-inline:32px 24px;box-sizing:border-box;color:var(--color-dark)}.button.icon-button{inline-size:48px;border:1px var(--color-dark) solid;padding-inline:0}.button.white{background-color:var(--color-light);color:var(--color-dark)}.button.black{background-color:var(--color-dark);color:var(--color-light)}.button.white .icon,.button.black .icon{color:var(--color-orange)}.button.transparent-with-border{background-color:#fff9;backdrop-filter:blur(4px);border:1px var(--color-dark) solid}.button.transparent{background-color:#fff9;backdrop-filter:blur(4px)}.button.icon-button .icon{block-size:18px;inline-size:auto}.icon{block-size:16px;inline-size:auto}
`),we([l()],re.prototype,"icon",2),we([l()],re.prototype,"text",2),we([l()],re.prototype,"variant",2),we([l()],re.prototype,"ariaLabel",2),re=we([p("atom-button")],re);var It=Object.defineProperty,At=Object.getOwnPropertyDescriptor;let Be=class extends g{render(){return c`<div class="lds-ring"><div></div><div></div><div></div><div></div></div>`}};Be.styles=u(`:host{display:block}.lds-ring{color:var(--color-orange)}.lds-ring,.lds-ring div{box-sizing:border-box}.lds-ring{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid currentColor;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:currentColor transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-.45s}.lds-ring div:nth-child(2){animation-delay:-.3s}.lds-ring div:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`),Be=((e,t,s,a)=>{for(var n,i=a>1?void 0:a?At(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&It(t,s,i),i})([p("atom-loader")],Be);var St=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,Me=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?_t(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&St(t,s,i),i};let be=class extends g{constructor(){super(...arguments),this.hasFinishedGame=!1}emitPlayGame(){this.dispatchEvent(new CustomEvent("playGame"))}getCardCopy(e){return m[e].home.gameCard}renderCheckmark(){return this.hasFinishedGame?c`<atom-icon class="checkmark" icon="${k.CHECKMARK}"></atom-icon>`:b}render(){return this.game&&this.video?c`<div class="video-container">${this.video.length?c`<video autoplay loop muted playsinline class="background-video" src="${this.video}"></video>`:c`<atom-loader></atom-loader>`} ${this.renderCheckmark()}</div><div class="content"><h2 class="title">${this.getCardCopy(this.game).title}</h2><p class="description">${this.getCardCopy(this.game).description}</p><atom-button @clicked="${this.emitPlayGame}" .text="${this.hasFinishedGame?m.general.gameCardReplayCta:m.general.gameCardPlayCta}" .icon="${this.hasFinishedGame?k.REFRESH:k.ARROW}" .ariaLabel="${`Button to play ${this.getCardCopy(this.game).title}`}" .variant="${this.hasFinishedGame?"transparent-with-border":"black"}"></atom-button></div>`:b}};be.styles=u(`:host{display:block;background:#f1f3f4;border-radius:32px;overflow:hidden}.video-container{position:relative;aspect-ratio:336/224;display:flex;align-items:center;justify-content:center}.background-video{inline-size:100%;aspect-ratio:336/224;border-radius:0 0 24px 24px}.checkmark{position:absolute;top:0;right:0;width:48px;height:auto;margin:15px}.content{inline-size:100%;block-size:100%;box-sizing:border-box;padding:24px}.title,.description{margin:0}.title{font-size:28px;line-height:32px;letter-spacing:-.5px;font-weight:700;margin-block-end:16px}.description{font-size:18px;line-height:24px;font-weight:400;margin-block-end:24px}
`),Me([l({type:Boolean})],be.prototype,"hasFinishedGame",2),Me([l()],be.prototype,"game",2),Me([l()],be.prototype,"video",2),be=Me([p("molecule-game-card")],be);const it={[o.GOOGLE_PLAY_PROTECT]:"https://kstatic.googleusercontent.com/files/313f3539f5dd0915b39534738be381175c65bf6a0344f0026ebb90074d2d0faea805f6cbebb2e3b401a42de8f4061efd2b634becb9391fc301d8ca800c42a45f",[o.GOOGLE_CAST]:"https://kstatic.googleusercontent.com/files/1278ecbf8cae6e12a22dfef52321a45ef23c596549cb6f98a47102ca92c646924bfc2f4958eb45e450fe411354db00edaaafdc6c9de9c906acaaeb095853131f",[o.PRIVATE_SPACE]:"https://kstatic.googleusercontent.com/files/0f16270aa8bc104a11bcc3b6f5f92f59958e4ed4ea8b9a44585acb9147d7fba59b4624d487f65c423a9d29b1547727e82ca90c7cf652de293b55f2dd35001e74",[o.THEFT_DETECTION]:"https://kstatic.googleusercontent.com/files/3bcce705313b685956ca0e661879aeee4e5384fa788064f425db80175949d05f1ce33917db1d8d37bc2a6e76eeb7faffe14273763202e9333b3d14ac7b3b3bca",[o.CIRCLE_TO_SEARCH]:"https://kstatic.googleusercontent.com/files/d19eac2841af3e778cbe8b0cb5d41f68aeaeb64f7a8a9d1515fee58ac64e0dd11e17902e76d17d098f68ef362cfe8fdac4643b245644bf300924ceea33fbe495",[o.GEMINI_ON_ANDROID]:"https://kstatic.googleusercontent.com/files/449d86f144cea091b637a02f186e5382ca178b81efb9033a64aba78ba213139716e9bfd93206e60bc4537b4ac57d34a488260c585539febfb4498442a2b04b6f"};async function Ee(e){const t=e.map(async s=>{const a=await fetch(s),n=await a.blob();return URL.createObjectURL(n)});return await Promise.all(t)}var Lt=Object.defineProperty,Pt=Object.getOwnPropertyDescriptor,Ve=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Pt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Lt(t,s,i),i};let Ge=class extends g{constructor(){super(...arguments),this.finishedGames=[]}connectedCallback(){super.connectedCallback(),this.fetchAssets()}clickPageLink(e){this.dispatchEvent(new CustomEvent("setSelectedGame",{detail:{value:e}})),this.dispatchEvent(new CustomEvent("openGameModal",{}))}async fetchAssets(){const e=Object.values(it),t={[o.GOOGLE_PLAY_PROTECT]:"",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:"",[o.GEMINI_ON_ANDROID]:""};(await Ee(e)).forEach((s,a)=>t[Object.keys(it)[a]]=s),this.assets=t}render(){return c`${ue(ae,e=>c`<molecule-game-card .game="${e}" .hasFinishedGame="${this.finishedGames.includes(e)}" @playGame="${()=>this.clickPageLink(e)}" .video="${this.assets?.[e]}"></molecule-game-card>`)}`}};Ge.styles=u(`:host{display:flex;flex-direction:column;gap:16px;block-size:fit-content;inline-size:100%;min-inline-size:100%;padding:20px;box-sizing:border-box}.loader-container{inline-size:100%;block-size:100%;display:flex;justify-content:center;align-items:center}
`),Ve([l({type:Array})],Ge.prototype,"finishedGames",2),Ve([d()],Ge.prototype,"assets",2),Ge=Ve([p("a15-mini-games-selection-screen")],Ge);let j=class pe{constructor(){this.currentTime=0,this.animationFrame=0,this.startDate=Date.now(),this.isPlaying=!1,this.onTimeCallbacks=[],this.setOnTimeUpdates=[]}static getInstance(){return pe.instance||(pe.instance=new pe),pe.instance}handleOnTimeCallbacks(){this.onTimeCallbacks.filter(({times:t})=>t.some(s=>s===this.currentTime)).forEach(({callback:t})=>t())}loop(){+(.001*(Date.now()-this.startDate)).toFixed(3)<1?this.animationFrame=requestAnimationFrame(()=>this.loop()):(this.currentTime++,this.startDate=Date.now(),this.handleOnTimeCallbacks(),this.setOnTimeUpdates.forEach(t=>t(this.currentTime)),this.currentTime===this.maxTime&&(this.stop(),this.setOnEnd?.()),this.isPlaying&&(this.animationFrame=requestAnimationFrame(()=>this.loop())))}start(){this.maxTime?(this.startDate=Date.now(),this.isPlaying=!0,this.animationFrame=requestAnimationFrame(()=>this.loop())):console.error("Please set max time first")}stop(){cancelAnimationFrame(this.animationFrame),this.isPlaying=!1}reset(){pe.instance=new pe}onEnd(t){this.setOnEnd=t}onTimeUpdate(t){this.setOnTimeUpdates=[...this.setOnTimeUpdates,t]}setOnTimeCallback(t,s){this.onTimeCallbacks.push({times:t,callback:s})}setMaxTime(t){this.maxTime=t}getMaxTime(){return this.maxTime}getCurrentTime(){return this.currentTime}setCurrentTime(t){this.currentTime=t}};var Dt=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,Ue=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Mt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Dt(t,s,i),i};let Oe=class extends g{constructor(){super(...arguments),this.stopwatchService=j.getInstance(),this.isOpen=!1,this.finishedAllGames=!1}willUpdate(e){e.has("isOpen")&&(this.isOpen?this.animateOpen():this.animateClose())}animateOpen(){if(gsap.timeline().to(this,{x:"0%",duration:.8,ease:"power4.inOut"}),window.innerWidth<768){document.documentElement.classList.add("android-global-disable-scroll");const e=document.querySelector("header");e&&(e.style.transform="translateY(-72px)")}}animateClose(){gsap.timeline().to(this,{x:"100%",duration:.8,ease:"power4.inOut"}),document.documentElement.classList.remove("android-global-disable-scroll")}closeGameModal(){this.dispatchEvent(new CustomEvent("closeGameModal")),this.stopwatchService.stop(),this.stopwatchService.reset()}render(){return c`<dialog open class="modal-inner"><slot></slot><atom-button class="close-button" .icon="${this.finishedAllGames?k.ARROW_RIGHT:k.CROSS}" @clicked="${this.closeGameModal}"></atom-button></dialog>`}};Oe.styles=u(`:host{position:sticky;inset:0;inline-size:100%;min-inline-size:100%;block-size:100%;max-block-size:100%;min-block-size:100%;box-sizing:border-box;background:var(--color-light);transform:translate(100%);z-index:31}@media (max-width: 767px){:host{position:fixed}}.modal-inner{width:100%;height:100%;position:relative;box-sizing:border-box;padding:0;overflow:hidden;border:none}.close-button{position:absolute;inset:12px 12px 0 auto;inline-size:fit-content;block-size:fit-content;z-index:2}
`),Ue([l({type:Boolean})],Oe.prototype,"isOpen",2),Ue([l({type:Boolean})],Oe.prototype,"finishedAllGames",2),Oe=Ue([p("page-modal")],Oe);var x=(e=>(e.DARK="dark",e.GRAY="gray",e.LIGHT="light",e.BLUE="blue",e))(x||{});const f={[o.GOOGLE_CAST]:{maxScore:3,maxTime:20,smallBot:"https://lh3.googleusercontent.com/JPP7MIYrJiYH4HCfNH7zt63FCFsGwfQEUZ3DWxX8BZJ8-s83ID3b5cItBxwVk_ViQMz14QblmP6QgPgaYdpyplKs1yIZz7Riyyvg9nMeO2D1yAK0E-I",bigBot:"https://lh3.googleusercontent.com/Q8VeCje_xuyuigi8O4oHwu04MLYkw-2myE4vX3ttflvKMXy2BL_DBO-JCkTmk3TQibwkU_UT9BB-4qn_8gpX0VvP2pljLkkxO0XNcoHpwSbdDpgdKqP6",messageColorScheme:x.LIGHT,theme:x.DARK},[o.CIRCLE_TO_SEARCH]:{maxTime:7,maxScore:5,smallBot:"https://lh3.googleusercontent.com/WhVkXZv4gVW9hbLDL0oVGcQDtw1JLjDJVbfULoWAhN0aprWUo4lxHKgV_MYwSJIcPlDPZNzGHeEKdUIRC3VEkaeSNo1WYc9tynxFvNn2m_QVTwwU-0o",bigBot:"https://lh3.googleusercontent.com/XQeR6PySCifogakbR9D1YhWULV4S7obWHSQkXlw8WPFIxEQ7ak-ll8Chh8TA3g17N6QDDalsQCnE284Q5hJbxwoPvcrMgMW44PTUh2xoe_STHrgZfFY",messageColorScheme:x.LIGHT,theme:x.DARK},[o.GOOGLE_PLAY_PROTECT]:{maxScore:5,smallBot:"https://lh3.googleusercontent.com/VnOHDbBfkpzcPzkPoBtpHwkYM0OaJ8cEIJWLyEd9jPcDVgQXP8Om7W99YW-60ypxqloraS41N2XT1PdoHm19Mzb0nMVHMT5I9WQy5azZNTfem1hEaQ",bigBot:"https://lh3.googleusercontent.com/BcSyxNB-zHFMaPQ6UzjY7479AJ_Pj-NFZ1v7Wzr13kcdwtky5UzDSGi6B_aCqR5RwFp3cZGaU6K0PwuvVdMUrtGd095JilUKHuKuNp3D5m6T9eGK2aE",messageColorScheme:x.LIGHT,theme:x.GRAY,hasBonus:!0},[o.GEMINI_ON_ANDROID]:{maxScore:0,maxTime:30,smallBot:"https://lh3.googleusercontent.com/DZR1eUojDCoAVHgKyEW8M2Wq-l5JHidwKaj6efC4sUlxtTHKQ19jRkxSKKIZr-lLLDC0_Oc0a3LiUhek9SW9nvn8J6jh3X-I5qYN0a_cadAJKQaieA",bigBot:"https://lh3.googleusercontent.com/TLJjL6h2ulPmf1qTZ7d2zAhcj-tO6CutZr0JLcxvqqGGtICh-tljgpRMg5XbhnV9ATefINi85lkXrKVOuKHz1lM6-JyBgX650I5R8raIhEhV46mZDgA-",messageColorScheme:x.DARK,theme:x.BLUE},[o.PRIVATE_SPACE]:{maxTime:40,startLevel:3,maxScore:6,smallBot:"https://lh3.googleusercontent.com/RpMJ7rRyZNAfatdY1hGHucIJh6Z7lMQP1FGD_yjT7mXhnqWVwVlxpWVy29qnEqcoOYFNKZrR8STlCRavTdG8wy-7_A5KPRVI6WoFHE6P8opaz3oRRg",bigBot:"https://lh3.googleusercontent.com/oke8Hs1m8elLjvS6Ek2oF57KOlXRdYnYvp1gIW_nS6NGhJDLp7FZyMiC7cRvIxnH5LwNnB5n8HwXe4maIM8tlk5Kger85elRItXhFRPN0ad12C6u8gI",messageColorScheme:x.LIGHT,theme:x.LIGHT},[o.THEFT_DETECTION]:{maxTime:20,maxScore:5,smallBot:"https://lh3.googleusercontent.com/gkjwiR3CEgW4BCURp1Uc9zNn4S-rIpBnVGCazdf_cjHhkAMQJnlHGGrtVth_SFcP--uwRMmH__VcmWj2o7eSqacnO2vqxgq9fbTvpee9gQaqwNHitFQ",bigBot:"https://lh3.googleusercontent.com/78C07wXSC8Dwpb3RD6UhS2cbjghRDNY1uCilg2yKnSdabeadhjlHQUIJcsv1B8bc_FzxjlEgqKHWTrRMLnQzjtXolLR_k1rJSeLLim41Gj02W2fCTw",messageColorScheme:x.LIGHT,theme:x.LIGHT}};var Rt=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,Ie=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Nt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Rt(t,s,i),i};let le=class extends g{constructor(){super(...arguments),this.theme=x.DARK}connectedCallback(){super.connectedCallback(),this.slideInBot=this.slideInBot.bind(this),this.goToGame=this.goToGame.bind(this),this.getGameCopy=this.getGameCopy.bind(this),this.getBot=this.getBot.bind(this)}goToGame(){this.dispatchEvent(new CustomEvent("updateCurrentPage",{detail:{value:z.GAME_PAGE}}))}updated(e){e.has("selectedGame")&&this.selectedGame&&this.slideInBot()}slideInBot(){gsap.fromTo(this.botElement,{y:"100%"},{y:"170px",duration:1.5,delay:.5})}getGameCopy(){if(this.selectedGame)return m[this.selectedGame].splashPage}getBot(){return this.selectedGame?f[this.selectedGame].bigBot:""}render(){if(this.selectedGame)return c`<div class="background-video-container">${this.background?c`<video muted autoplay loop playsinline src="${this.background}" class="background-video"></video>`:c`<atom-loader></atom-loader>`}</div><div class="splash-page ${this.theme}"><h1 class="title">${$e(this.getGameCopy()?.title)}</h1><p class="description">${this.getGameCopy()?.description}</p><img src="${this.getBot()}" alt="${this.selectedGame??""}" class="bot"><atom-button @clicked="${this.goToGame}" class="next-button" icon="${k.ARROW_RIGHT}" text="Start"></atom-button></div>`}};le.styles=u(`:host{display:block;inline-size:100%;block-size:100%}:host(.circle-to-search){background-color:var(--color-dark)}:host(.gemini-on-android){background:var(--color-dark)}:host(.gemini-on-android):before{content:"";position:absolute;inset:0;background:linear-gradient(230.41deg,rgba(0,0,0,0) -22.98%,rgba(66,133,244,.3) 97.37%),linear-gradient(53.64deg,rgba(144,113,194,0) 13.15%,rgba(144,113,194,.3) 104.46%);z-index:0}:host(.better-together){background-color:#252525}:host(.endless-runner){background:linear-gradient(180deg,#53565a 0%,#b0b0b0 100%)}:host(.snatch-detection){background:linear-gradient(180deg,#f7f7f7 0%,#dadada 100%)}:host(.private-spaces){background:var(--color-light)}:host(.snatch-detection),:host(.private-spaces){color:var(--color-dark)}.splash-page{display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:0 12px;height:100%;overflow:hidden;position:relative;font-family:Google Sans}.splash-page.blue,.splash-page.gray,.splash-page.dark{color:var(--color-light)}.title{text-align:center;margin:48px 38px 0;font-weight:700;font-size:40px;line-height:48px;letter-spacing:-1px;z-index:1}.description{font-weight:400;font-size:20px;line-height:28px;text-align:center;margin:16px 38px 0;z-index:1}.bot{position:absolute;transform:translate(0);bottom:0;left:-18%;width:364px;height:352px;z-index:1}.next-button{align-self:flex-end;margin-block:auto 28px;display:flex;z-index:2;color:var(--color-dark)}.background-video-container{position:absolute;inset:0;inline-size:100%;block-size:100%;display:flex;align-items:center;justify-content:center}.background-video{min-inline-size:100%;min-block-size:100%;object-fit:cover}
`),Ie([l()],le.prototype,"selectedGame",2),Ie([l()],le.prototype,"theme",2),Ie([l()],le.prototype,"background",2),Ie([w(".bot")],le.prototype,"botElement",2),le=Ie([p("splash-screen")],le);const zt=[300,500,700,1e3,1200,1400],$t=ct`:host{display:block}picture{display:block}img{display:block;height:100%;width:100%}`,Ft={}.VAR_BUILD_TYPE==="ssr"||{}.VAR_BUILD_TYPE==="ssg";var Ht=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,Re=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Bt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Ht(t,s,i),i};let fe=class extends g{constructor(){super(...arguments),this.imageSet=[],this.alt="",this.isLazy=!1,this._sizes=zt}get _isLazyLoaded(){return this.isLazy&&!Ft}connectedCallback(){super.connectedCallback(),this._isLazyLoaded&&(this._lazyLoadObserver=new IntersectionObserver(([e])=>{this._loadIntersectedImage(e)}),this._lazyLoadObserver.observe(this))}disconnectedCallback(){super.disconnectedCallback(),this._isLazyLoaded&&(this._lazyLoadObserver?.unobserve(this),this._lazyLoadObserver?.disconnect())}_loadIntersectedImage(e){if(!e.isIntersecting||!e.target)return;const t=e.target?.shadowRoot?.querySelector(".picture");if(!t)return;const[s]=t.getElementsByTagName("img"),a=[...t.getElementsByTagName("source")];s.src=s.dataset.src,a.forEach(n=>{n.srcset=n.dataset.srcset||""}),this._lazyLoadObserver?.unobserve(t)}_renderImage(){const e=this.imageSet.at(-1);return e?c`<img data-src="${De(this._isLazyLoaded?e.src:void 0)}" src="${De(this._isLazyLoaded?void 0:e.src)}" width="${e.width}" height="${e.height}" alt="${this.alt}">`:b}_renderSources(){return this.imageSet.map((e,t)=>{const s=`${e.src} ${this._sizes[t]}w`;return c`<source media="(max-width:${this._sizes[t]}px)" data-srcset="${De(this._isLazyLoaded?s:void 0)}" srcset="${De(this._isLazyLoaded?void 0:s)}" width="${e.width}" height="${e.height}">`})}render(){return c`<picture class="picture">${this._renderSources()}${this._renderImage()}</picture>`}};fe.styles=$t,Re([l({type:Array})],fe.prototype,"imageSet",2),Re([l({type:String})],fe.prototype,"alt",2),Re([l({type:Boolean})],fe.prototype,"isLazy",2),fe=Re([p("atom-image")],fe);var Vt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,ve=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Ut(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Vt(t,s,i),i};let Q=class extends g{constructor(){super(...arguments),this.imageSource="",this.index=0,this.disabled=!1,this.imageSourceIndex=0,this.assets=[]}connectedCallback(){super.connectedCallback(),this.setCurrentImage=this.setCurrentImage.bind(this),this.getIsLastImage=this.getIsLastImage.bind(this),this.addEventListener("click",this.emitClicked)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.emitClicked)}willUpdate(e){e.has("imageSourceIndex")&&this.setCurrentImage()}getIsLastImage(){return this.imageSourceIndex===this.assets.length-1}async setCurrentImage(){const e=this.assets[this.imageSourceIndex];this.imageSource=e}getDeviceNameClass(){return["laptop","phone","tablet-horizontal","car","tablet-vertical","tablet-docked"][this.index]}emitClicked(){this.disabled||this.dispatchEvent(new CustomEvent("clicked",{detail:{index:this.index,imageSourceIndex:this.imageSourceIndex=this.getIsLastImage()?0:this.imageSourceIndex+1}}))}render(){return c`<img class="device-image ${S({[this.getDeviceNameClass()]:!0})}" src="${this.imageSource}" alt="">`}};function dt(e,t){return e.length===t.length&&e.every((s,a)=>s===t[a])}function N(e,t){return Math.floor(Math.random()*(t-e)+e)}Q.styles=u(`:host{display:block}.device-image{max-inline-size:100%;max-block-size:100%;object-fit:cover;user-select:none;-webkit-user-select:none;user-drag:none;-webkit-user-drag:none}.device-image.laptop{inline-size:207px}.device-image.phone{inline-size:54px}.device-image.tablet-horizontal{inline-size:121.7px}.device-image.car{inline-size:97.24px}.device-image.tablet-vertical{inline-size:86.4px}.device-image.tablet-docked{inline-size:121.37px}
`),ve([d()],Q.prototype,"imageSource",2),ve([l({type:Number})],Q.prototype,"index",2),ve([l({type:Boolean})],Q.prototype,"disabled",2),ve([l({type:Number})],Q.prototype,"imageSourceIndex",2),ve([l({type:Array})],Q.prototype,"assets",2),Q=ve([p("better-together-tile")],Q);const jt=1,Yt=[{images:["https://lh3.googleusercontent.com/4z5ELhOYw4vgiEjcF7sGIGOY7FKC9FVeSzK48s3ttz_koOwgv2VsQsD_9A_dGOizVw_c2i83fe8HYCdhi_Dvgk6N9UFT5ruiaXdIWzzaRLmKzXhPbw","https://lh3.googleusercontent.com/RZQY3kpFdiXZXiwq3iNdJHi83Ngh8WRWI2q22cssM3LX2yxuciiMmlTIxXDiFT0F1Xq1mNZ9H3LSXFsUao7rixocKFAxTkZVGzd8P2yRHR6jWClMVbs","https://lh3.googleusercontent.com/uAW5rz5fUemWZSPdZ-PV4qeVq6bjG0nO6nMNFyZKgN-n9eC48dMVxRzET9gmrXEloQ9zHjZsl7bRfuYF-ODZZ8dD8__6NtJ4Cf5I82cyNkmdjMlqBQ","https://lh3.googleusercontent.com/1uNc0GkZ9BgkL3042k_o0RcbJ3tbeC7QPhIJ5qF2GEw8qJivoj3MQPPbTVLpJoJbqjPurRwydzlds3VeqX97N_vAN1uh_8qquIemsaAXbh7RJ9bXz8o","https://lh3.googleusercontent.com/_Ij4R9MOTZaPNxm0KZX6eK7kQ7HeBLLyApbfxe5RbOc13aYgSVXYcDRh6csLB_1U1ULcgk_ksvabX6YWjab8pqzjsfHqd4jOD_KppW0-Cv9P7f77JZo"]},{images:["https://lh3.googleusercontent.com/OriJluKNy_c22evpmEDp3Ib3XYs8dvKWgEBcWpZa7YeBzc-uiJHiVitkqJWHKNxjOSffSnud18ptgQQmueQuK__ykJsn7DDBF7N1ZDBFZaoFNJT2yvWV","https://lh3.googleusercontent.com/JS3Gy1f3DOiEj4u1Mw-8FB6NzY3e2XZKjNaoD4iXwM7nwPa2ZdL4-j8DfJOGG8ZoFW3sKt5_ixs45_k7JZGWnK2UHCZeWeE1C2KkqGBUtwu1n43ujlrt","https://lh3.googleusercontent.com/OdzDhWVUiPJTl_GHatBGxjiok5oArBDxaXt9bEdEmfk2gegq7ttxfa563FdYKpDqt56hlN8dyegDH99oMYGJYnVJax41Biua-kFFtNzyfTEhNPYf_Z0","https://lh3.googleusercontent.com/FkMyMUTe1Nbp7meiTijp6gRuUrsuv6JAdVNOuJv6PGV-XQB9Za9T8Cg30IQZGzfPr_AAmiToOa3iAjQxMaEBFVDenzT212Bo5oPXXrNDv3QrYj269A","https://lh3.googleusercontent.com/9KmeDgpltcF_V1ZjtlC3HEAyi4oyUh1GAGPEhayZOeLoDAcg1xzu-Hv_ZbCqI3ZxAGQYAG0jSjqs1LDo-jN9WMcab8eFtr13CJt-B6udvbHMJXDXPA"]},{images:["https://lh3.googleusercontent.com/sLrz6aWBZ1ZIa42S2HmXTzXsSvo9zNiTOFAnXoMn5RrcSJXaw4RtLTEbUvGL6WpjYodYstLguFZyoXQGdbWsIbXi2Pyl--liddtj3yLbw1gOVKuNRyM","https://lh3.googleusercontent.com/YSUoYX9KRPFaHiTA-xVu6sLOicbAKwaaVAiTID-TX0B_sD7NXD3104HvIojhEiXVzqDcIavP2C0KEkE1yRqpJWIUzWDqCUJMICXm5TT2yFAmauYROtUs","https://lh3.googleusercontent.com/mEkV44qOgfuaRkPGunljKj43b0fulKMb1x-uI5AGms9cDXlAbhws_FImX-XSe5R9wGGNU2R57SpyVjAFzRRbW_NbscZ9bK5qQ7d2SiUOu7wf4KURWvU","https://lh3.googleusercontent.com/R0f6s2v6R2Gg63xSI6a0XctzMw61XjC_8IGl1LnFeuK5vzcHCxG4Oi8cWjDYmhFlyv2j0fhjCeOQLPLizlrqSdxadXQQsUDyu4xArE5UhzqFjVuoUg","https://lh3.googleusercontent.com/vLhDNE8ea0xeENlC2WTNLK4_X6zb1rHoKyPS3loCWpjLVhnactmX74Yt6M_cd1_ubpc65jeaHOmhni9kNThD2Kzllm7DCz-264MUQdDAoEVor5KZgq9F"]},{images:["https://lh3.googleusercontent.com/_wcmxHy8oqH3dTS65OaI5v14QRU6PaU6N-HOtkA4qK3BICchusQz7FIhgPbDylf1IwfNMni5AsVg3T6d2PZwwCTULQn3pmuEN3Ia-u-uUyQ212WX3WA","https://lh3.googleusercontent.com/Se2NN9jQ5u6J0A6y2RQg8W_xSb4sUcg6hocCvahs3igWxJ6n_213zs26e0dn55SM5i2BcAuWGE6Y_Ep70KPwaQgetNnzwHurG0n_j-eaFyi1y1RtUg","https://lh3.googleusercontent.com/SMtcUy-RoFcB5zxZEZdavEUYCWMh0nSYtPjglt9jmpwgAUDVO9qg5mCSuKnr0X7V53ihdjehhwNXVj1bmyaqPe0O0gkxfDp9zNISHvtqsBq_7fFcmwI","https://lh3.googleusercontent.com/V74RPOGUPHJ5lyXuUIzVLudBPNtrP2PoU76R48PKYNv2Q0-srgx44qlOc0VCC0-tubcAkKA6g3AH0PFtfFG7blfHdAQQxxkLcCJlmcjwLy-SB2fT_Tc","https://lh3.googleusercontent.com/7s3lozNB04of7wLFQK09bc4oImrbbfu80FEARUAQ3ML99pAKvgQhHtBFzgrENQRzZvePOcBReNXOM34GcD1qcybxqGLIrOd7xV1opVXKnEATVNV0qgE"]},{images:["https://lh3.googleusercontent.com/HCAktHSaQRDf49IznAYvH8TFoe5pCBZpskYcB_izaivoxoY2f0wpO3TBQKEcTXg4IY9Ps3gKrQbmS4gMt3H8tlg7L_zB-cFU6nvXBHmaEdjtmC-MbVQ","https://lh3.googleusercontent.com/ijGL7vsvN_Tw7_MPHjkdS_XoTDX6vxUFJsQNSqoFC6E4Ua69yule49626wr78omHvCcRWbsCbXSEC-WHGYrqIMXLyRqgMB5bPfxSOCMiXweQu7l3eg","https://lh3.googleusercontent.com/20JDePC2zaur9pkuisfmPQJfD6DMXOaOVIPHO3pO9xGAX2k3p9qM5OKaw65kImZAEUQarcItJYmJmMSal7UO0wzbKKRkp8OPfMuhuvoVMTvAQT2Y3rI","https://lh3.googleusercontent.com/4KpCpsarpMB-5Lb9eA5TiL3n0L5NFYA3vphcRmTNW6EBGY0lIRWYTRObstMmdUNKx5B0cQ-czP5nYgtxt1FQZSTI5KKu0ua9AWdR-YmhbPxbMjLiQzQc","https://lh3.googleusercontent.com/SMyId_KBy67kBKqp-2wcbkIcVx8Kkg6n8fWKaql2jfDh-Wy9AAK_nA92f4Zn5e_iePfPXlAPfzAQ1JtKjkHUQf8_GLt3jkF2WypmeRvmJVB0FZqMoA"]},{images:["https://lh3.googleusercontent.com/OQhKdMefhF6_mxyI07vyhhJE7KePTqjMn-rkJ67CWIWxAcCsQ_ORmvtXqt89dMlaP7GJ548EeM30RkmvwBkomtIla7H0UOuPzzxxlz_QQ2yERwet9Gug","https://lh3.googleusercontent.com/FzdC3xG6U-85Tyrwasp62x3CeKQkowvNC7_Hp1pVU9DspfjKGuXwy5VswMn8VfoWAVQTL3Pmmq0ujDEM309c_ZLDz50lEINZhJR1YVMR8DOMCATkW3Y","https://lh3.googleusercontent.com/Hxmp5AOjjzFOAHTKdpw8P0-YP_4k0uTZ9ISA2om0a5BvX723BgaZi-w4UBO3g-lbkFyxBF27Kau89Paddo1FaGH0tqVpzqufdJfOdahXsltWADTDI-w","https://lh3.googleusercontent.com/1-j4dGsEYSySMP1FVGdx7bU8emBki40IZFOtsuXNyLQN0n9duQrpFJ4Z_MaWXMgaxWT_kdqGTO3pS-EecYIielpUwI3xoXYShes-X5c6jyrJnV00Kfsq","https://lh3.googleusercontent.com/aTr7fObO-VcockRzjdZklyWoqAeJrWAYYAI2vsQ79Mrx3CBFzpT-swabM0FzWmSdOcu9cDeBoy0-ZMMO126ecMeEQgWgmOIlAab9T2y9ECnzGpauhyVz"]}];var Zt=Object.defineProperty,Wt=Object.getOwnPropertyDescriptor;let je=class extends g{render(){return c`<slot></slot>`}};je.styles=u(`:host{display:block;background:var(--color-light-60);padding:6px 10px;inline-size:fit-content;block-size:fit-content;border-radius:8px;font-size:16px;line-height:24px;font-weight:500}:host(.gray){background:var(--color-gray)}:host(.has-black-text){color:var(--color-dark)}
`),je=((e,t,s,a)=>{for(var n,i=a>1?void 0:a?Wt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Zt(t,s,i),i})([p("atom-badge")],je);var Kt=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,ye=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Xt(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Kt(t,s,i),i};let q=class extends g{constructor(){super(...arguments),this.stopwatchService=j.getInstance(),this.imageSourceIndexes=this.getRandomImageSourceIndexes(),this.isBotComplete=!1,this.currentLevel=1,this.isGameDone=!1,this.assets=[]}connectedCallback(){super.connectedCallback(),this.endLevel=this.endLevel.bind(this),this.startNewLevel=this.startNewLevel.bind(this),this.handleLevelDone=this.handleLevelDone.bind(this),this.onEnd=this.onEnd.bind(this),this.dispatchEvent(new CustomEvent("showMessage",{detail:{value:m[o.GOOGLE_CAST].botMessages[h.TUTORIAL],type:h.TUTORIAL}}));const e=new CustomEvent("miniGameLoaded",{detail:o.GOOGLE_CAST});document.dispatchEvent(e),this.loadAllImages()}willUpdate(e){e.has("imageSourceIndexes")&&(this.isBotComplete=dt(this.imageSourceIndexes,[0,0,0,0,0,0])),e.has("isBotComplete")&&this.isBotComplete&&this.endLevel(),e.has("assets")&&this.assets.length&&(this.stopwatchService.setMaxTime(f[o.GOOGLE_CAST].maxTime),this.stopwatchService.onEnd(this.onEnd),this.stopwatchService.start())}async loadAllImages(){const e=Yt,t=[];let s=0;for(;s<e.length;){const{images:a}=e[s],n=await Ee(a);t.push(n),s++}this.assets=t}showLevelDoneMessage(){this.dispatchEvent(new CustomEvent("showMessage",{detail:{value:m[o.GOOGLE_CAST].botMessages[h.SUCCESS],type:h.SUCCESS}}))}endLevel(){this.showLevelDoneMessage(),this.classList.add("finished-level"),this.stopwatchService.setOnTimeCallback([this.stopwatchService.getCurrentTime()+3],this.handleLevelDone)}handleLevelDone(){this.currentLevel>=jt?(this.dispatchEvent(new CustomEvent("updateGameScore",{detail:{score:this.currentLevel}})),this.onEnd()):this.startNewLevel()}getRandomImageSourceIndexes(){return[N(1,5),N(1,5),N(1,5),N(1,5),N(1,5),N(1,5)]}startNewLevel(){this.classList.remove("finished-level"),this.imageSourceIndexes=this.getRandomImageSourceIndexes(),this.dispatchEvent(new CustomEvent("updateGameScore",{detail:{score:this.currentLevel}})),this.currentLevel++}onEnd(){this.isGameDone=!0,this.stopwatchService.stop(),this.dispatchEvent(new CustomEvent("endGame"))}emitClickedTile({detail:{index:e,imageSourceIndex:t}}){const s=[...this.imageSourceIndexes];s[e]=t,this.imageSourceIndexes=s}renderRoundBadge(){return b}render(){return this.assets.length?c`${this.renderRoundBadge()}<section class="grid"><div class="row"><better-together-tile @clicked="${this.emitClickedTile}" .index="${0}" .imageSourceIndex="${this.imageSourceIndexes[0]}" .disabled="${this.isBotComplete||this.isGameDone}" .assets="${this.assets[0]}"></better-together-tile></div><div class="row">${ue(new Array(3),(e,t)=>c`<better-together-tile @clicked="${this.emitClickedTile}" .index="${t+1}" .imageSourceIndex="${this.imageSourceIndexes[t+1]}" .disabled="${this.isBotComplete||this.isGameDone}" .assets="${this.assets[t+1]}"></better-together-tile>`)}</div><div class="row">${ue(new Array(2),(e,t)=>c`<better-together-tile @clicked="${this.emitClickedTile}" .index="${t+4}" .imageSourceIndex="${this.imageSourceIndexes[t+4]}" .disabled="${this.isBotComplete||this.isGameDone}" .assets="${this.assets[t+4]}"></better-together-tile>`)}</div></section>`:c`<atom-loader></atom-loader>`}};q.styles=u(`:host{display:flex;justify-content:center;align-items:center;inline-size:100%;block-size:100%;background:var(--color-peach);transition:background .2s ease-in-out}:host(.finished-level){background:var(--color-pastel-green)}.level-badge{position:absolute;inset:48px auto 0}.grid{display:flex;flex-direction:column;gap:14px}.row{display:flex;gap:16px;justify-content:center;align-items:start}.row:last-child{align-items:center;padding-inline-start:55px;margin-block-start:-30px}
`),ye([d()],q.prototype,"imageSourceIndexes",2),ye([d()],q.prototype,"isBotComplete",2),ye([d()],q.prototype,"currentLevel",2),ye([d()],q.prototype,"isGameDone",2),ye([d()],q.prototype,"assets",2),q=ye([p("better-together-game")],q);const Qt=[{url:"https://lh3.googleusercontent.com/HOJCW_Z38lW5Hcpi7u7vbulVB9ZxfkGbAe1kbwCYUngXWk_HgaxyWYybg1eH53H_R3uffbl881iaZeyZd69e-f4fojWmvRjlnmpNICXxWfFQ_q1FrFJ3=s0",alt:"CTS 1",coords:{x:28,y:34}},{url:"https://lh3.googleusercontent.com/uEHS6uu8qMQce8b0SW2Y80-buJOyz7yKKbHbchYFTGmHTmse-tRyAocJc16y6IRps6lv9DIzHdej2ZwfdqmmP4IVAN-7Vrdfo8wxRm9JqeE1yDkr25A=s0",alt:"CTS 2",coords:{x:30,y:24}},{url:"https://lh3.googleusercontent.com/-RXSUPmIyLEuCef1PGwn0hDqOeAsEetGuxTF28DBz7t5ydLNl8FoisraAONH97SOXEIQviqKdPR9DEi5U6IBb4iIEXOHGwJ8Gpek-wkK5rHCMjZYOvmd=s0",alt:"CTS 3",coords:{x:65,y:28}},{url:"https://lh3.googleusercontent.com/yTQCGvNBuGQz5NGDXFGsSWoe-Ma9f-drQq74lNZgWZtafD8d6LzQtZk8oggDfZX9OksW9cxVW1NuyHX1rq5f8fw-UjT9RqpXHy07GN4rRBezCQride0=s0",alt:"CTS 4",coords:{x:65,y:59}},{url:"https://lh3.googleusercontent.com/OB-dpo_2k2sqjJyhUG9t1dEJ4cbJ95l7Cvec-0PjtRuzZAmxYvJe5tLBanMgViBH8g_JM7AQUwt0IwwDgjnM1RH2HOQSCDpCbIV43ZBA3-AO19vsvec=s0",alt:"CTS 5",coords:{x:68,y:21}}],qt="https://kstatic.googleusercontent.com/files/23078bc65beca1401c9c0292b3304c51f120008cb03b313bbc67fa0a78f6e3c841cb1df10080b9514bd58defe8f8bb1b980e4622e03f0a49fb2c86d2ceabbff6",Jt="You found the Android Bot!",ei="The Android Bot is somewhere else!",ti=10;var ii=Object.defineProperty,si=Object.getOwnPropertyDescriptor,_=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?si(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&ii(t,s,i),i};let G=class extends g{constructor(){super(...arguments),this.stopwatchService=j.getInstance(),this.images=Qt,this.spriteSheet=qt,this.tolerance=ti,this.maxTime=f["circle-to-search"].maxTime,this.currentTime=f["circle-to-search"].maxTime,this.currentImageIndex=0,this.completeGames=0,this.isGameDone=!1,this.showMark=!1,this.assets={}}async connectedCallback(){super.connectedCallback(),this.setTime=this.setTime.bind(this),this.onEnd=this.onEnd.bind(this),await this.loadAllAssets();const e=new CustomEvent("miniGameLoaded",{detail:o.CIRCLE_TO_SEARCH});document.dispatchEvent(e)}firstUpdated(){this.stopwatchService.setMaxTime(this.maxTime),this.stopwatchService.onTimeUpdate(this.setTime),this.stopwatchService.start()}async loadAllAssets(){const e=this.images.map(a=>a.url);e.push(this.spriteSheet);const t={};let s=0;for(;s<e.flat().length;){const a=e[s],n=await Ee([a]);t[this.getUrlId(a)]=n[0],s++}this.assets=t}getUrlId(e){return encodeURIComponent(e)}setTime(e){this.currentTime=this.maxTime-e,this.currentTime===0&&(this.showMark=!0,this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:h.TUTORIAL,value:"The bot was here all along. Let`s try again!"}})),setTimeout(()=>{this.progressToNextImage()},3500))}onEnd(){this.isGameDone=!0,this.stopwatchService.stop(),this.dispatchEvent(new CustomEvent("endGame"))}progressToNextImage(){this.updateScore(),this.currentImageIndex===this.images.length-1?(this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:h.SUCCESS,value:`Great job!
            You found: ${this.completeGames} out of ${this.images.length} Android Bots`}})),this.onEnd()):(this.currentImageIndex++,this.resetGame())}resetGame(){this.showMark=!1,this.currentTime=this.maxTime,this.stopwatchService.setCurrentTime(0),this.stopwatchService.start()}updateScore(){this.dispatchEvent(new CustomEvent("updateGameScore",{detail:{score:this.completeGames}}))}handleImageTap(e){const t=this.tapArea?this.tapArea.getBoundingClientRect():null;if(t){const s=e.touches?.[0].clientX??e.clientX,a=e.touches?.[0].clientY??e.clientY,n=(s-t.left)/t.width*100,i=(a-t.top)/t.height*100;this.isTapInRightPlace(n,i,this.images[this.currentImageIndex].coords)?(this.stopwatchService.stop(),this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:h.SUCCESS,value:Jt}})),this.showMark=!0,this.completeGames++,setTimeout(()=>{this.progressToNextImage()},2e3)):this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:h.FAILURE,value:ei}}))}}isTapInRightPlace(e,t,s){const a=this.getAdjustedX();return a-this.tolerance<e&&e<a+this.tolerance&&s.y-this.tolerance<t&&t<s.y+this.tolerance}getAdjustedX(){const{x:e}=this.images[this.currentImageIndex].coords,t=this.tapArea?.clientHeight||0,s=this.tapArea?.clientWidth||0;return e-e*((s-.5625*t)/s)}renderMark(){const{y:e}=this.images[this.currentImageIndex].coords;return this.showMark&&!this.isGameDone?c` <div
          class="mark"
          style="left: ${this.getAdjustedX()}%; top: ${e}%; background-image: url(${this.assets[this.getUrlId(this.spriteSheet)]})"
        ></div>`:b}render(){return Object.keys(this.assets).length?c`
      <div
        class="tap-area"
        @click=${this.handleImageTap}
        @touchstart=${this.handleImageTap}
      >
        <img
          class="image"
          src=${this.assets[this.getUrlId(this.images[this.currentImageIndex].url)]}
          alt=${this.images[this.currentImageIndex].alt}
        />
      </div>
      ${this.renderMark()}
    `:c`<atom-loader></atom-loader>`}};G.styles=u(`:host{position:relative;width:100%;display:flex;justify-content:center;align-items:center}.next-button{position:absolute;z-index:2;top:0;right:0;margin:12px}.tap-area{position:absolute;width:100%;height:100%}.image{position:absolute;top:0;left:0;height:100%;object-fit:cover;object-position:0;user-select:none;-webkit-user-select:none;user-drag:none;-webkit-user-drag:none}.mark{position:absolute;z-index:2;width:158.4px;height:156px;background-size:11248px 156px;background-position:left;background-repeat:no-repeat;animation:spriteAnimation 2s steps(71) infinite;transform:translate(-50%,-50%)}@keyframes spriteAnimation{0%{background-position:0px 0px}to{background-position:-11248px 0px}}
`),_([d()],G.prototype,"stopwatchService",2),_([d()],G.prototype,"images",2),_([d()],G.prototype,"spriteSheet",2),_([d()],G.prototype,"tolerance",2),_([d()],G.prototype,"maxTime",2),_([d()],G.prototype,"currentTime",2),_([d()],G.prototype,"currentImageIndex",2),_([d()],G.prototype,"completeGames",2),_([d()],G.prototype,"isGameDone",2),_([d()],G.prototype,"showMark",2),_([d()],G.prototype,"assets",2),_([w(".tap-area")],G.prototype,"tapArea",2),G=_([p("circle-to-search-game")],G);const ht={[o.GOOGLE_PLAY_PROTECT]:"https://lh3.googleusercontent.com/-Zr58k5xkb83zVxfUKOuHI5yAfFOTwBT5MeDodJcdf9inRZv0GMOiLltE_xPGd-cN3pbfrFI6FwqJ7oLRUXg7Flyte8BMKErwy8Kk9LUHjBf72qMztM=s0",[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/uWXoS-GnVpz-Ly2NH9x2DNnWHjAkivFcMSU07fIHeTeUyQR-gIhpsqG1fAG9P5CtzivxRszZx9IFMfWUbRz7kwWFFl2zhfvGGDRcLSi5vYrga37fRT8=s0",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""},gt={[o.GOOGLE_PLAY_PROTECT]:"",[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/IHBz6YTuA2DVMFTJEnDfL8kW-mOj2lVRqWJJC1eporU6DaEPrap2vgDcy3GvwptSC5Gn17Mv4gulYTxQp-FgFO_ZTMeXF7smWF0NL5b1fS7d5Ic00A=s0",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""};var ai=Object.defineProperty,ni=Object.getOwnPropertyDescriptor,Y=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?ni(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&ai(t,s,i),i};let M=class extends g{connectedCallback(){super.connectedCallback()}firstUpdated(){this.style.height=`${this.carElementHeight}px`,this.style.bottom=`${this.bottomPosition}px`,this.style.width=`${this.carElementWidth}px`,this.carElement.style.height=`${this.carElementHeight}px`,this.carElement.style.bottom=`${this.bottomPosition}px`,this._changeTrack(),this.style.setProperty("--transition-duration",`${this.transitionDuration}s`),this.style.setProperty("--glow-src",`url(${gt[o.GEMINI_ON_ANDROID]})`)}updated(e){e.has("x")&&this._changeTrack()}_changeTrack(){this.carElement.style.transform=`translateX(${this.x}px)`}render(){return c`<div class="car ${this.theme===A.GEMINI_ON_ANDROID?"gemini":""}" style="width:${this.carElementWidth}"><img class="car__image" src="${ht[this.game]}" alt=""></div>`}};M.styles=u(`:host{display:block;position:absolute;bottom:50px;left:0;height:60px;width:30px}.car{height:120px;transition:transform var(--transition-duration) ease-out}.car__image{width:100%;height:100%;user-select:none;-webkit-user-select:none;user-drag:none;-webkit-user-drag:none}.car.gemini .car__image{position:absolute}.car.gemini:before{--size: 183%;--translate: -23%;content:"";background-image:var(--glow-src);background-size:cover;position:absolute;transform:translate(var(--translate),var(--translate));width:var(--size);height:var(--size)}
`),Y([l({type:Number})],M.prototype,"theme",2),Y([l()],M.prototype,"game",2),Y([l({type:Number})],M.prototype,"x",2),Y([l({type:Number})],M.prototype,"bottomPosition",2),Y([l({type:Number})],M.prototype,"carElementHeight",2),Y([l({type:Number})],M.prototype,"carElementWidth",2),Y([l({type:Number})],M.prototype,"transitionDuration",2),Y([w(".car")],M.prototype,"carElement",2),M=Y([p("endless-runner-car")],M);class X{constructor(){this.currentTime=0,this.animationFrame=0,this.startDate=Date.now(),this.isPlaying=!1,this.onTimeCallbacks=[],this.setOnTimeUpdates=[]}static getInstance(){return X.instance||(X.instance=new X),X.instance}handleOnTimeCallbacks(){this.onTimeCallbacks.filter(({times:t})=>t.some(s=>s===this.currentTime)).forEach(({callback:t})=>t())}loop(){+(.001*(Date.now()-this.startDate)).toFixed(3)<1?this.animationFrame=requestAnimationFrame(()=>this.loop()):(this.currentTime++,this.startDate=Date.now(),this.handleOnTimeCallbacks(),this.setOnTimeUpdates.forEach(t=>t(this.currentTime)),this.currentTime===this.maxTime&&(this.stop(),this.setOnEnd?.()),this.isPlaying&&(this.animationFrame=requestAnimationFrame(()=>this.loop())))}start(){this.maxTime?(this.startDate=Date.now(),this.isPlaying=!0,this.animationFrame=requestAnimationFrame(()=>this.loop())):console.error("Please set max time first")}stop(){cancelAnimationFrame(this.animationFrame),this.isPlaying=!1}reset(){X.instance=new X}onEnd(t){this.setOnEnd=t}onTimeUpdate(t){this.setOnTimeUpdates=[...this.setOnTimeUpdates,t]}setOnTimeCallback(t,s){this.onTimeCallbacks.push({times:t,callback:s})}setMaxTime(t){this.maxTime=t}getMaxTime(){return this.maxTime}getCurrentTime(){return this.currentTime}setCurrentTime(t){this.currentTime=t}}var oi=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,Ne=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?ri(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&oi(t,s,i),i};let Ce=class extends g{constructor(){super(...arguments),this.stopwatchService=X.getInstance(),this.lightStates=[[0,0,0,0,0],[1,0,0,0,0],[1,1,0,0,0],[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,1],[0,0,0,0,0]],this.currentStateIndex=0}connectedCallback(){super.connectedCallback()}firstUpdated(){this.style.setProperty("--transition-duration",this.lightStates.length/(4*this.countdownTime)+"s"),this.startTimer()}startTimer(){this.stopwatchService.reset(),this.stopwatchService=X.getInstance(),this.stopwatchService.setMaxTime(this.countdownTime),this.stopwatchService.start(),this.startTime=Date.now(),this.tick(),this.stopwatchService.onEnd(()=>this.finishTimer())}finishTimer(){this.dispatchEvent(new CustomEvent("countdownFinish"))}tick(){const e=(Date.now()-this.startTime)/1e3,t=Math.floor(e/this.countdownTime*this.lightStates.length);t>this.lightStates.length-1||(t!==this.currentStateIndex&&(this.currentStateIndex=t),requestAnimationFrame(()=>this.tick()))}getLightClass(e){return["off","red","green"][e]}render(){return c`<div class="countdown-container">${ue(this.lightStates[this.currentStateIndex],e=>c`<div class="column">${ue([e,e],()=>c`<span class="light light--${this.getLightClass(e)}"></span>`)}</div>`)}</div>`}};Ce.styles=u(`:host{display:block;inline-size:100%}.countdown-container{inline-size:90%;block-size:150px;background-color:#d5deeb66;border:2px solid rgba(255,255,255,.2);border-radius:21px;display:flex;justify-content:center;align-items:center;gap:7px}.countdown-container .background{size:100%;inset:0;position:absolute;z-index:0;filter:blur(10px)}.countdown-container .column{inline-size:40px;block-size:80px;background-color:#202124;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px 0}.countdown-container .column .light{border-radius:100%;inline-size:31px;block-size:31px;transition:background-color var(--transition-duration) ease-out}.countdown-container .column .light--off{background-color:#3c4043}.countdown-container .column .light--red{background-color:#d00d3c}.countdown-container .column .light--green{background-color:#34a853}
`),Ne([l({type:Number})],Ce.prototype,"theme",2),Ne([l({type:Number})],Ce.prototype,"countdownTime",2),Ne([d()],Ce.prototype,"currentStateIndex",2),Ce=Ne([p("endless-runner-countdown")],Ce);const pt={[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/lO5PKePSHk5mU2oBbSSII0Y-3mtCq_tN99DJCtfqQfEzX97thHEsErO0n--Tag1CGvVEnxuzylmFxv3VJQlsdfcRnQfvhA05Wl3toVQXrgXWNfCt5z8=s0",[o.GOOGLE_PLAY_PROTECT]:"",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""},mt={[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/BXPyxQhqn-sPALbBAf8RxCYPAsz5I6YTcpL8R8QTUUMOlIJfkKexYPvsrFh7vcei4peKGiRLMVHcLyHU4-piorXJgHu-jpXe9LrIE9D4AlTpjxV9yA=s0",[o.GOOGLE_PLAY_PROTECT]:"",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""};var li=Object.defineProperty,ci=Object.getOwnPropertyDescriptor,C=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?ci(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&li(t,s,i),i};let v=class extends g{constructor(){super(...arguments),this.gameState=I.INITIAL,this.obstaclesInScreen=[],this.showWarning=!1,this.showCollision=!1}connectedCallback(){super.connectedCallback(),this.style.setProperty("--obstacle-height",`${this.obstacleHeight}px`),this.style.setProperty("--obstacle-width",`${this.obstacleWidth}px`),this.style.setProperty("--trail-height",`${this.trailHeight}px`),this.style.setProperty("--warning-time",`${this.warningTime}s`),this._changeVariant(this.theme)}updated(e){e.has("gameState")&&this.gameState===I.FINISHED&&this.freezeObstacles(),e.has("theme")&&this._changeVariant(this.theme),e.has("obstaclesCount")&&this.obstaclesCount&&this.latestObstacle&&this.gameState===I.RUNNING&&this.spawnObstacle(this.latestObstacle),e.has("collisions")&&this.collisions&&this.gameState===I.RUNNING&&(this.showCollision=!0,setTimeout(()=>{this.showCollision=!1},500))}_changeVariant(e){this._updateVariantState();const t=e===A.GEMINI_ON_ANDROID?"gemini":"avoid-spam";this.classList.add(t)}_updateVariantState(){this.laneBackgroundSrc=pt[this.game],this.bgLinesSrc=mt[this.game]}freezeObstacles(){this.obstaclesInScreen.forEach(e=>{clearTimeout(e.apparitionTimeOut)})}spawnObstacle(e){this.showWarning=!0,this.laneElement.appendChild(e),gsap.to(e,{y:-this.obstacleHeight,duration:0});const t={element:e,tween:void 0,apparitionTimeOut:setTimeout(()=>{t.tween=gsap.to(e,{y:this.gameHeight,ease:"linear",duration:this.duration,onComplete:()=>this.disposeObstacle(t)}),this.showWarning=!1},1e3*this.warningTime)};this.obstaclesInScreen.push(t)}disposeObstacle(e){this.laneElement.removeChild(e.element),clearTimeout(e.apparitionTimeOut),this.obstaclesInScreen.splice(this.obstaclesInScreen.indexOf(e),1)}render(){return c`<div class="${S({lane:!0,"lane--warning":this.showWarning&&this.gameState===I.RUNNING,running:this.gameState===I.RUNNING})}">${this.laneBackgroundSrc?c`<img class="lane__background" src="${this.laneBackgroundSrc}" alt="">`:""}<div class="lane__collision ${this.showCollision?"visible":""}"></div>${this.rowIndex===1&&this.bgLinesSrc?c`<img class="lane__lines" src="${this.bgLinesSrc}">`:b}</div>`}};v.styles=u(`:host{width:100%;background-color:transparent}:host(.gemini) .lane{border:none}:host(.gemini) .lane__background,:host(.gemini) .lane__warning{border:none}.lane{position:relative;border-top:0;border-bottom:0;height:100%;overflow:hidden;display:flex;justify-content:center}.lane__background,.lane__lines,.lane__collision{user-select:none;height:100%;width:100%;position:absolute}.lane__lane{height:85%}.lane:after{content:"";position:absolute;top:0;opacity:0;background:linear-gradient(180deg,#ac0418 0%,rgba(172,4,24,0) 100%);height:44px;width:100%}:host(.avoid-spam) .obstacle{opacity:0;transition:opacity .5s ease-out;width:var(--obstacle-width)}:host(.avoid-spam) .lane--warning:after{animation:blink var(--warning-time) ease-in-out infinite;opacity:1}:host(.avoid-spam) .lane__collision{background:linear-gradient(180deg,rgba(255,40,40,.4) 49.25%,rgba(255,0,0,0) 69.27%);opacity:0;transition:opacity .5s ease-in-out}:host(.avoid-spam) .lane__collision.visible{opacity:1}:host(.avoid-spam) .lane.running .obstacle{opacity:1}.obstacle{position:absolute;margin:0 auto;height:var(--obstacle-height);z-index:1}.obstacle img{width:100%;height:100%;user-select:none;-webkit-user-select:none;user-drag:none;-webkit-user-drag:none}.obstacle.gemini{width:var(--obstacle-height)}.obstacle.gemini img{position:absolute;pointer-events:none}.obstacle.gemini:before{content:"";display:block;position:absolute;bottom:0;width:100%;height:var(--trail-height);border-radius:40px;background:linear-gradient(0deg,rgba(100,128,225,.35) 0%,rgba(55,70,123,0) 82.2%)}.obstacle.gemini.collected:before{background:linear-gradient(0deg,rgba(7,142,254,.44) 14.8%,rgba(172,135,235,.176) 53.43%,rgba(255,255,255,0) 82.2%)}.obstacle.gemini.missed:before{background:linear-gradient(0deg,rgba(48,60,100,.35) 0%,rgba(55,70,123,0) 82.2%)}@keyframes blink{0%{opacity:.25}50%{opacity:1}to{opacity:.25}}
`),C([l({type:Number})],v.prototype,"rowIndex",2),C([l({type:Number})],v.prototype,"duration",2),C([l({type:Number})],v.prototype,"warningTime",2),C([l({type:Number})],v.prototype,"theme",2),C([l()],v.prototype,"game",2),C([l({type:Number})],v.prototype,"obstaclesCount",2),C([l({type:Object})],v.prototype,"latestObstacle",2),C([l({type:Number})],v.prototype,"collisions",2),C([l({type:Number})],v.prototype,"gameHeight",2),C([l({type:Number})],v.prototype,"obstacleHeight",2),C([l({type:Number})],v.prototype,"obstacleWidth",2),C([l({type:Number})],v.prototype,"trailHeight",2),C([l({type:Number})],v.prototype,"gameState",2),C([w(".lane")],v.prototype,"laneElement",2),C([w(".lane__collision")],v.prototype,"collisionHighlightElement",2),C([d()],v.prototype,"obstaclesInScreen",2),C([d()],v.prototype,"showWarning",2),C([d()],v.prototype,"showCollision",2),C([d()],v.prototype,"laneBackgroundSrc",2),C([d()],v.prototype,"bgLinesSrc",2),v=C([p("endless-runner-lane")],v);const ut={height:131,width:47,bottomPosition:94,transitionDuration:.2},Qe={...ut,height:52.78,width:52.78},bt={obstacleHeight:44,obstacleWidth:50,trailHeight:154},di={...bt,obstacleHeight:50};var st,at;const Le={gameDuration:30,obstacleDurationInScreen:1.3,spawningTime:.9,warningTime:.5,timeAddition:3,countdownTime:4,laneAmount:3,carConfig:ut,laneConfig:bt,barConfig:{bottom:(st=Qe.bottomPosition,at=Qe.height,st+at/2)}},hi={...Le,spawningTime:1.8,carConfig:Qe,laneConfig:di};var gi=Object.defineProperty,pi=Object.getOwnPropertyDescriptor,$=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?pi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&gi(t,s,i),i};let P=class extends g{constructor(){super(...arguments),this.stopwatchService=j.getInstance(),this.finishTime=0,this.bonus=0,this.currentGameTime=0,this.showBonus=!1,this.hasBonus=!1,this.currentTime=0,this.isRunning=!1,this.isFinishing=!1}getFormattedMinutes(){return("0"+Math.floor(this.currentTime/60)).slice(-2)}getFormattedSeconds(){return("0"+this.currentTime%60).slice(-2)}getMaxTime(){return this.stopwatchService.getMaxTime()??0}connectedCallback(){super.connectedCallback(),this.selectedGame&&f[this.selectedGame].maxTime&&(this.currentTime=f[this.selectedGame].maxTime||0),this.stopwatchService.onTimeUpdate(e=>{this.selectedGame!==o.GOOGLE_PLAY_PROTECT&&(this.currentTime=this.getMaxTime()-e,this.isFinishing=this.currentTime<=(this.finishTime||0))})}updated(){this.selectedGame!==o.GOOGLE_PLAY_PROTECT&&this.selectedGame!==o.GEMINI_ON_ANDROID||(this.currentTime=this.currentGameTime)}render(){return c`<div class="container ${S({"is-finishing":this.isFinishing})}"><span class="time-box">${this.getFormattedMinutes()}</span> <span class="time-separator">:</span> <span class="time-box">${this.getFormattedSeconds()}</span> ${this.renderBonus()}</div>`}renderBonus(){if(!this.hasBonus)return b;const e=this.bonus?this.bonus>0?"+":"-":"",t=Math.abs(this.bonus);return c`<span class="time-separator"></span> <span class="bonus-box ${this.showBonus?"visible":""}">${e}${t}”</span>`}};P.styles=u(`:host{display:inline-block}.container{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.time-box,.bonus-box{min-width:20px;padding:14px 8px;font-family:Google Sans;font-size:16px;font-weight:700;text-align:center;border-radius:12px}.time-box{color:var(--color-dark);background-color:var(--color-light-gray)}.is-finishing .time-box{color:var(--color-orange);animation:glowEffect 2s linear infinite}.bonus-box{color:var(--color-light);background-color:var(--color-dark-red);border:4px solid #f8bbbc;transition:opacity .5s ease-in-out;opacity:0}.bonus-box.visible{opacity:1}.time-separator{margin:0 5px;font-family:Google Sans;font-size:16px;font-weight:700}@keyframes glowEffect{0%{box-shadow:0 0 5px 0 var(--color-orange)}50%{box-shadow:0 0 15px 0 var(--color-orange)}to{box-shadow:0 0 5px 0 var(--color-orange)}}
`),$([l({type:Number})],P.prototype,"finishTime",2),$([l({type:Number})],P.prototype,"bonus",2),$([l({type:Number})],P.prototype,"currentGameTime",2),$([l({type:Boolean})],P.prototype,"showBonus",2),$([l({type:Boolean})],P.prototype,"hasBonus",2),$([l()],P.prototype,"selectedGame",2),$([d()],P.prototype,"currentTime",2),$([d()],P.prototype,"isRunning",2),$([d()],P.prototype,"isFinishing",2),P=$([p("atom-timer")],P);var mi=Object.defineProperty,ui=Object.getOwnPropertyDescriptor,nt=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?ui(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&mi(t,s,i),i};let ze=class extends g{constructor(){super(...arguments),this.progress=0}getProgressWidth(){return this.progress+"%"}render(){return c`<div class="container"><div class="progress-bar-container"><div class="fill" style="max-width:${this.getProgressWidth()}"></div><div class="stroke"></div></div><atom-icon class="finish" icon="${k.FLAG}"></atom-icon></div>`}};ze.styles=u(`:host{display:block;width:100%;padding:16px 0}.container{margin:0 13px;display:flex}.progress-bar-container{display:flex;position:relative;height:10px;background-color:var(--color-dark);flex-grow:1;border-radius:100px 0 0 100px}.fill{height:100%;width:100%;background:linear-gradient(270deg,#ff8000 0%,#000000 100%);position:relative;border-radius:100px 0 0 100px;transition:max-width 1s ease-out}.stroke{position:relative;display:block;border-radius:100px;background-color:var(--color-orange);height:12px;top:-1px;left:-5px;width:20px}.finish{position:relative;top:-5px;right:6px;width:30px;height:auto}
`),nt([l({type:Number})],ze.prototype,"progress",2),ze=nt([p("atom-progress-bar")],ze);var bi=Object.defineProperty,fi=Object.getOwnPropertyDescriptor,Ye=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?fi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&bi(t,s,i),i};let Ae=class extends g{constructor(){super(...arguments),this.score=0}getMaxScore(){return this.selectedGame?f[this.selectedGame].startLevel?f[this.selectedGame].maxScore-f[this.selectedGame].startLevel+1:f[this.selectedGame].maxScore:0}render(){if(this.getMaxScore()>0)return c`Score: <span class="points">${this.score}/${this.getMaxScore()}</span>`;{const e=String(this.score).padStart(2,"0");return c`Score: <span class="points">${e}</span>`}}};Ae.styles=u(`:host{display:inline-block;padding:14px 8px;font-family:Google Sans;font-size:16px;font-weight:500;letter-spacing:.5px;color:var(--color-light);background-color:var(--color-dark);border-radius:12px}.points{color:var(--color-orange)}
`),Ye([l({type:Number})],Ae.prototype,"score",2),Ye([l()],Ae.prototype,"selectedGame",2),Ae=Ye([p("atom-score-counter")],Ae);var vi=Object.defineProperty,yi=Object.getOwnPropertyDescriptor,Z=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?yi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&vi(t,s,i),i};let R=class extends g{constructor(){super(...arguments),this.finishTime=0,this.hasScore=!1,this.score=0,this.progress=0,this.currentTime=0,this.showBonus=!1,this.hasBonus=!1}connectedCallback(){super.connectedCallback()}render(){return c`<div class="top-container"><atom-timer .finishTime="${this.finishTime}" .bonus="${Le.timeAddition}" .showBonus="${this.showBonus}" .hasBonus="${this.hasBonus}" .currentGameTime="${this.currentTime}" .selectedGame="${this.selectedGame}"></atom-timer>${this.renderScoreCounter()}</div>${this.renderProgressBar()}`}renderScoreCounter(){return this.selectedGame===o.GOOGLE_PLAY_PROTECT||this.selectedGame===o.GOOGLE_CAST?b:c`<atom-score-counter .score="${this.score}" .selectedGame="${this.selectedGame}"></atom-score-counter>`}renderProgressBar(){return this.selectedGame!==o.GOOGLE_PLAY_PROTECT?b:c`<atom-progress-bar .progress="${this.progress}"></atom-progress-bar>`}};R.styles=u(`:host{padding:12px;display:flex;flex-direction:column;inline-size:100%}.top-container{display:flex;align-items:center;justify-content:start;gap:20px;padding-right:60px;margin-left:13px}
`),Z([l({type:Number})],R.prototype,"finishTime",2),Z([l({type:Boolean})],R.prototype,"hasScore",2),Z([l({type:Number})],R.prototype,"score",2),Z([l({type:Number})],R.prototype,"progress",2),Z([l({type:Number})],R.prototype,"currentTime",2),Z([l()],R.prototype,"selectedGame",2),Z([l({type:Boolean})],R.prototype,"showBonus",2),Z([l({type:Boolean})],R.prototype,"hasBonus",2),R=Z([p("molecule-info-bar")],R);const qe={[o.GOOGLE_PLAY_PROTECT]:"https://lh3.googleusercontent.com/UB5yiZ8jf8XbaKKV4FTJKTLJho-F9s7GBoPL4yPF_Ap9oMr0i7OdEKgJydKHWhQpayCQU6CwJsLGHP3zk5Z_83s927SEurhv8CGYqOCFq4iQFW58RZs=s0",[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/5_rz2VM8SrSC4uG6VjoZ_gSfr2G58fOb01VC_1ZXY1dA4XF-lOdYgqhYdmXscGNkofmknwlQ1NICRdoRpMEwKvEM4B9udHqF3U506_csdB03aEVPuRs=s0",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""},ft={[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/7sskOkwMzBEkfK2nCvD532mcnKujY1Sm-9rBjSm6p0Upi0bEwm2oHiplCF3ZRbCP8FCogzn-V54MJOniTtIElAkNZyAidAEnbTXApgf4sdnYeubQMaw=s0",[o.GOOGLE_PLAY_PROTECT]:"",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""},vt={[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/4vVfgARwBZMgEBNWtkWoDyiAOZEbCHYXldCX2L_EfagGqw4pbMkB33kXIsrakWsRKmonsgVHs6OMcktasmIKAn_bGcxPx51YfjUsW7Ms-O-bJss1bQ=s0",[o.GOOGLE_PLAY_PROTECT]:"",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""},yt={[o.GEMINI_ON_ANDROID]:"",[o.GOOGLE_PLAY_PROTECT]:"https://kstatic.googleusercontent.com/files/6d35092502db6893978018a0997fe02cfc40d64ad0e8961d9474b3de9cd13de2c89422637639e1e2262e194fdc5d39b2948f0507b942a80954d29c0091a7b870",[o.GOOGLE_CAST]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:"",[o.CIRCLE_TO_SEARCH]:""};class ot{constructor(t){this.theme=t}onMissed(t,s){}spawnObstacleElement(t=this.obstacleSrc){const s=document.createElement("div"),a=document.createElement("img");return s.appendChild(a),a.src=t,s.classList.add("obstacle"),{obstacleElement:s,imgElement:a}}assetsToLoad(){return[yt[this.game],qe[this.game],ft[this.game],vt[this.game],ht[this.game],gt[this.game],pt[this.game],mt[this.game]]}}const rt=Object.values(m[o.GEMINI_ON_ANDROID].botMessages.success);class Ct{static getVariant(t){return this.variantMap.get(t)}}Ct.variantMap=new Map([[A.AVOID_SPAM,new class extends ot{constructor(){super(...arguments),this.config=Le,this.game=o.GOOGLE_PLAY_PROTECT,this.obstacleSrc=qe[this.game],this.useCollectibles=!1,this.useCountdown=!0,this.seconds=0,this.startTime=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"#t=0.000001":"",this.backgroundVideo=yt[this.game]}onCollide(e,t,s){e.onSpamCollided(t,s)}onMissed(e,t){t&&e.onSpamMissed(t)}spawnObstacle(e){const{obstacleElement:t,imgElement:s}=this.spawnObstacleElement();return{obstacleId:e,obstacleElement:t,imgElement:s}}}(A.AVOID_SPAM)],[A.GEMINI_ON_ANDROID,new class extends ot{constructor(){super(...arguments),this.config=hi,this.game=o.GEMINI_ON_ANDROID,this.obstacleSrc=qe[this.game],this.successObstacleSrc=ft[this.game],this.failureObstacleSrc=vt[this.game],this.useCollectibles=!0,this.useCountdown=!1,this.poolLength=rt.length,this.backgroundVideo="",this.seconds=this.config.gameDuration,this.lastMessage="",this.successMessage=this.getNewMessage()}onCollide(e,t){t.missed||(e.onGeminiCollided(t,this.successObstacleSrc,this.successMessage),this.updateMessage())}onMissed(e,t){t&&!t.collected&&e.onGeminiMissed(t,this.failureObstacleSrc)}spawnObstacle(e){const{obstacleElement:t,imgElement:s}=this.spawnObstacleElement();return{obstacleId:e,obstacleElement:t,imgElement:s,collected:!1,missed:!1}}spawnObstacleElement(){const{obstacleElement:e,imgElement:t}=super.spawnObstacleElement();return e.classList.add("gemini"),{obstacleElement:e,imgElement:t}}getNewMessage(){let e=this.getRandomMessage();for(;!e||e===this.lastMessage;)e=this.getRandomMessage();return e}getRandomMessage(){return rt[Math.round(Math.random()*(this.poolLength-1))]}updateMessage(){this.lastMessage=this.successMessage,this.successMessage=this.getNewMessage()}}(A.GEMINI_ON_ANDROID)]]);var Ci=Object.defineProperty,xi=Object.getOwnPropertyDescriptor,O=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?xi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Ci(t,s,i),i};let E=class extends g{constructor(){super(),this.stopwatchService=j.getInstance(),this.config=Le,this.gameState=I.INITIAL,this.seconds=0,this.currentTrackIndex=1,this.collectibleCount=0,this.useCollectibles=!1,this.useCountdown=!1,this.showCountdown=!0,this.collisions=[],this.assets={},this.initLanes()}initLanes(){this.lanes=new Array(this.config.laneAmount).fill(null).map(()=>({obstaclesInScreen:[],obstaclingLane:[],collisions:0}))}async connectedCallback(){super.connectedCallback(),this._changeVariant(this.theme),this._dispatchTimerUpdate(),this._handleKeyUp.bind(this),document.addEventListener("keyup",this._handleKeyUp.bind(this)),await this.loadAllAssets(),this.useCountdown||this.start(),this.style.setProperty("--bar-bottom",`${this.config.barConfig.bottom}px`),this.selectedGame=this.theme===A.AVOID_SPAM?o.GOOGLE_PLAY_PROTECT:o.GEMINI_ON_ANDROID;const e=new CustomEvent("miniGameLoaded",{detail:this.selectedGame});document.dispatchEvent(e)}onVideoLoad(){this.useCountdown&&(this.showCountdown=!0)}disconnectedCallback(){document.removeEventListener("keyup",this._handleKeyUp.bind(this)),this.stopwatchService.stop(),this.stopwatchService.reset()}updated(e){e.has("theme")&&this._changeVariant(this.theme)}_dispatchTimerUpdate(){this.dispatchEvent(new CustomEvent("updateCurrentTime",{detail:{currentTime:this.seconds}}))}async loadAllAssets(){const e=this.variant.assetsToLoad().filter(a=>a).map(a=>[a]),t={};let s=0;for(;s<e.flat().length;){const a=e[s],n=await Ee(a);t[this.getUrlId(a[0])]=n[0],s++}this.assets=t}getUrlId(e){return encodeURIComponent(e)}_changeVariant(e){this.variant&&this.variant.theme===e||(this.variant=Ct.getVariant(e),this._updateVariantState())}_updateVariantState(){this.useCollectibles=this.variant.useCollectibles,this.config=this.variant.config,this.useCountdown=this.variant.useCountdown,this.game=this.variant.game,this.seconds=this.variant.seconds,this.theme===A.AVOID_SPAM&&(this.throttleSuccessOnSpam=((e,t)=>{let s=0;return()=>{const a=1e3*t,n=Date.now();n-s>=a&&(e(),s=n)}})(()=>this._showMessage(m["google-play-protect"].botMessages.success,h.SUCCESS),10))}carX(){const e=this.clientWidth/this.config.laneAmount;return e*this.currentTrackIndex+(e-this.config.carConfig.width)/2}displayTime(){const e=this.seconds,t=Math.floor(e/60),s=Math.floor(e%60);return t.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")}start(){requestAnimationFrame(()=>{this.gameState=I.RUNNING,this.stopwatchService.reset(),this.stopwatchService=j.getInstance(),this.stopwatchService.setMaxTime(this.config.gameDuration),this.initLanes(),this.showCountdown=!1,this._showMessage(m[this.selectedGame].botMessages.tutorial,h.TUTORIAL),this.variant.backgroundVideo&&this.backgroundVideoElement.play(),this.seconds=this.variant.seconds,this.stopwatchService.onTimeUpdate(e=>{this.updateTime(1),this.updateProgress(e)}),this.stopwatchService.onEnd(()=>this.finish()),this.spawnIntervalId=setInterval(()=>this.spawnObstacle(),1e3*this.config.spawningTime),this.stopwatchService.start()})}updateTime(e){const t=this.theme===A.AVOID_SPAM?e:-e;this.seconds+=t,this._dispatchTimerUpdate()}updateProgress(e){this.dispatchEvent(new CustomEvent("updateProgress",{detail:{progress:e/Le.gameDuration*100}}))}finish(){clearInterval(this.spawnIntervalId),this.collisions.forEach(e=>clearTimeout(e)),this.stopwatchService.stop(),this.gameState=I.FINISHED,this.updateGameScore(this.game===o.GOOGLE_PLAY_PROTECT?this.displayTime():`${this.collectibleCount}`),setTimeout(()=>{this.dispatchEvent(new CustomEvent("endGame"))},600)}updateGameScore(e){this.dispatchEvent(new CustomEvent("updateGameScore",{detail:{score:e}}))}spawnObstacle(){if(this.gameState!==I.RUNNING)return;const e=Math.round(Math.random()*(this.lanes.length-1)),t=Date.now(),s=this.variant.spawnObstacle(t);this.lanes[e].obstaclesInScreen.push(s),this.lanes[e].latestObstacle=s.obstacleElement,this.requestUpdate(),this._handleLaneBlocking(e,s)}toggleTimeAddition(e){this.dispatchEvent(new CustomEvent("showTimeAddition",{detail:{showTimeAddition:e}}))}laneHeight(){return this.laneContainerElement?.clientHeight||0}getCollisionTimeOut(){const{obstacleDurationInScreen:e,carConfig:{height:t,bottomPosition:s},laneConfig:{obstacleHeight:a}}=this.config,n=this.laneHeight();return 1e3*e*(n-t-s-.41*a)/n}getLeftBehindTimeOut(){const e=this.laneHeight(),{obstacleDurationInScreen:t,carConfig:{height:s},laneConfig:{obstacleHeight:a}}=this.config;return t/e*(.5*a+s)*1e3}_handleLaneBlocking(e,t){const s=setTimeout(()=>{this.lanes[e].obstaclingLane.push(t),this.checkCollision(),setTimeout(()=>{const a=this.lanes[e].obstaclingLane.shift();this.variant.onMissed(this,a)},this.getLeftBehindTimeOut())},1e3*this.config.warningTime+this.getCollisionTimeOut());this.collisions.push(s)}_handleKeyUp(e){e?.key==="ArrowLeft"&&this.moveLeftLane(),e?.key==="ArrowRight"&&this.moveRightLane(),e?.preventDefault(),e?.stopPropagation()}checkCollision(e){const t=e??this.currentTrackIndex,s=this.lanes[t].obstaclingLane;s.length&&this.onCollision(s[0],t)}onCollision(e,t){this.variant.onCollide(this,e,t)}onGeminiCollided(e,t,s){this.collectibleCount++,this.updateGameScore(`${this.collectibleCount}`),e.imgElement.src=t,e.collected=!0,e.obstacleElement.classList.add("collected"),this._showMessage(s,h.SUCCESS)}onGeminiMissed(e,t){e.missed=!0,e.imgElement.src=t,e.obstacleElement.classList.add("missed"),this._showFailureMessage()}onSpamMissed(e){e.collected||this.throttleSuccessOnSpam()}onSpamCollided(e,t){this.updateTime(this.config.timeAddition),this.lanes[t].collisions++,e.collected=!0,this._showFailureMessage(),this.toggleTimeAddition(!0),setTimeout(()=>{this.toggleTimeAddition(!1)},1500)}moveLeftLane(){this.currentTrackIndex>0&&this.gameState===I.RUNNING&&(this.currentTrackIndex--,setTimeout(()=>{this.checkCollision(this.currentTrackIndex)},1e3*this.config.carConfig.transitionDuration))}moveRightLane(){this.currentTrackIndex<this.config.laneAmount-1&&this.gameState===I.RUNNING&&(this.currentTrackIndex++,setTimeout(()=>{this.checkCollision(this.currentTrackIndex)},1e3*this.config.carConfig.transitionDuration))}moveToLane(e){const t=e.target,s=parseInt(t.getAttribute("rowIndex")||"");this.gameState===I.RUNNING&&s>-1&&(Math.abs(s-this.currentTrackIndex)>1&&setTimeout(()=>{this.checkCollision(1)},1e3*this.config.carConfig.transitionDuration/2),this.currentTrackIndex=s,setTimeout(()=>{this.checkCollision()},1e3*this.config.carConfig.transitionDuration))}_showFailureMessage(){this._showMessage(m[this.game].botMessages.failure,h.FAILURE)}_showMessage(e,t){this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:t,value:e}}))}renderLanes(){return this.lanes.map((e,t)=>c`<endless-runner-lane rowIndex="${t}" duration="${this.config.obstacleDurationInScreen}" warningTime="${this.config.warningTime}" theme="${this.theme}" game="${this.game}" gameHeight="${this.laneHeight()}" obstacleHeight="${this.config.laneConfig.obstacleHeight}" obstacleWidth="${this.config.laneConfig.obstacleWidth}" trailHeight="${this.config.laneConfig.trailHeight}" .obstaclesCount="${e.obstaclesInScreen.length}" .latestObstacle="${e.latestObstacle}" .collisions="${e.collisions}" .gameState="${this.gameState}" @click="${this.moveToLane}"></endless-runner-lane>`)}renderGeminiBar(){return c`<div class="gemini-bar"></div>`}renderCar(){return c`<endless-runner-car x="${this.carX()}" .theme="${this.theme}" .game="${this.game}" bottomPosition="${this.config.carConfig.bottomPosition}" carElementHeight="${this.config.carConfig.height}" carElementWidth="${this.config.carConfig.width}" transitionDuration="${this.config.carConfig.transitionDuration}"></endless-runner-car>`}renderCountdown(){return c`<endless-runner-countdown class="countdown" .theme="${this.theme}" countdownTime="${this.config.countdownTime}" @countdownFinish="${()=>this.start()}"></endless-runner-countdown>`}renderBackgroundVideo(){return c`<video muted ?autoplay="${!1}" playsinline onload="${()=>this.onVideoLoad()}" src="${this.assets[this.getUrlId(this.variant.backgroundVideo)]}" class="background-video"></video>`}render(){return Object.keys(this.assets).length?c`<div class="lane-container">${this.variant.backgroundVideo?this.renderBackgroundVideo():b} ${this.renderLanes()}</div>${this.theme===A.GEMINI_ON_ANDROID?this.renderGeminiBar():b} ${this.showCountdown&&this.theme!==A.GEMINI_ON_ANDROID?this.renderCountdown():b} ${this.renderCar()}`:c`<atom-loader></atom-loader>`}};E.styles=u(`:host{display:flex;flex-direction:column;width:100%;height:100%;position:relative;overflow:hidden;justify-content:center;align-items:center;user-select:none}.lane-container{width:100%;height:100%;flex-grow:1;position:relative;overflow:hidden;justify-content:center;display:flex}endless-runner-car{z-index:1}.message-container{position:absolute;bottom:0;display:flex;align-items:center;justify-content:center;background-color:#deb887b3;font-size:16px;min-height:74px;width:100%}.message-container.success{background-color:#90ee90b3}.message-container.failure{background-color:#d87093b3}.background-video{position:absolute;bottom:0;width:100%;z-index:0;min-width:100%;min-height:100%;object-fit:cover;pointer-events:none}.countdown{position:absolute;display:flex;justify-content:center;z-index:2}.gemini-bar{position:absolute;bottom:var(--bar-bottom);width:100%;height:8px;display:flex;justify-content:center;transform:translateY(50%);pointer-events:none}.gemini-bar:after{content:"";display:block;height:100%;width:calc(100% - 14px);background:linear-gradient(90deg,#3d7cf5 0%,#3e8ef3 36.96%,#a68ae5 71.91%,#dd4e56 93.39%);border-radius:14.14px}
`),O([l({type:Number})],E.prototype,"theme",2),O([d()],E.prototype,"config",2),O([d()],E.prototype,"gameState",2),O([d()],E.prototype,"seconds",2),O([d()],E.prototype,"currentTrackIndex",2),O([d()],E.prototype,"collectibleCount",2),O([d()],E.prototype,"game",2),O([d()],E.prototype,"useCollectibles",2),O([d()],E.prototype,"variant",2),O([d()],E.prototype,"useCountdown",2),O([d()],E.prototype,"showCountdown",2),O([w(".background-video")],E.prototype,"backgroundVideoElement",2),O([w(".lane-container")],E.prototype,"laneContainerElement",2),O([d()],E.prototype,"assets",2),E=O([p("endless-runner-game")],E);const Ze=3,We=3,Ti=3;var Ei=Object.defineProperty,ki=Object.getOwnPropertyDescriptor,ce=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?ki(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Ei(t,s,i),i};let W=class extends g{constructor(){super(...arguments),this.index=0,this.disabled=!0,this.isValidOption=!1,this.isLastPressedNode=!1}connectedCallback(){super.connectedCallback(),this.emitClicked=this.emitClicked.bind(this),this.addEventListener("click",this.emitClicked)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.emitClicked)}willUpdate(e){e.has("isLastPressedNode")&&setTimeout(()=>{this.isLastPressedNode?this.tileInner?.classList.add("last-pressed-node"):this.tileInner?.classList.remove("last-pressed-node")},650)}emitClicked(){this.disabled||(this.dispatchEvent(new CustomEvent("clicked",{detail:{value:this.index}})),this.flashTile("blue"),setTimeout(()=>{this.isValidOption&&this.tileInner?.classList.add("active")},600))}resetTile(){this.tileInner?.classList.remove("active")}flashTile(e){this.tileInner?.classList.add(`flashing-${e}`),setTimeout(()=>{this.tileInner?.classList.remove(`flashing-${e}`)},600)}getShieldSvg(){return me(`<svg
      width="21"
      height="26"
      viewBox="0 0 21 26"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M11.9613 9.29942C11.9613 10.1149 11.3051 10.7797 10.5 10.7797C9.69491 10.7797 9.03866 10.1149 9.03866 9.29942C9.03866 8.48392 9.69491 7.81919 10.5 7.81919C11.3051 7.81919 11.9613 8.48392 11.9613 9.29942ZM21 4.72852V11.8213C21 18.3795 16.5213 24.5129 10.5 26C4.47874 24.5129 0 18.3795 0 11.8213V4.72852L10.5 0L21 4.72852ZM11.9613 16.7006V13.4797C13.6662 12.8766 14.884 11.2319 14.884 9.29942C14.884 6.84607 12.922 4.85872 10.5 4.85872C8.07796 4.85872 6.11598 6.84607 6.11598 9.29942C6.11598 11.2319 7.33376 12.8766 9.03866 13.4797V21.1413H11.9613V19.661H14.884V16.7006H11.9613Z"
        fill="white"
      />
    </svg> `)}render(){return c`<div class="tile-inner"><div class="node"><div class="shield-image">${this.getShieldSvg()}</div></div></div>`}};W.styles=u(`:host{display:flex;block-size:58px;inline-size:58px;align-items:center;justify-content:center}.tile-inner{block-size:100%;inline-size:100%;display:flex;align-items:center;justify-content:center;position:relative}.tile-inner:before{content:"";position:absolute;inset:auto;inline-size:78px;block-size:78px;border-radius:1000px;background-color:#ea4335;opacity:0;z-index:0;scale:.73;transition:.5s ease-in-out}:host .tile-inner.flashing-red:before{animation:animateRedNodeBackground .5s .1s}:host .tile-inner.flashing-red .node{background-color:#ea4335;border-color:#ea4335}:host .tile-inner.flashing-blue:before{background-color:#1a73e8;animation:animateBlueNodeBackground .5s .1s}:host .tile-inner.flashing-blue .node{background-color:#1a73e8;border-color:#1a73e8}.tile-inner.active .node{background:#3c4043}.tile-inner.flashing-red.active .node .shield-image{opacity:0}.tile-inner.active .node .shield-image{opacity:1}.tile-inner.last-pressed-node:before{background-color:#c6ff00;opacity:.5;scale:1}.node{inline-size:100%;block-size:100%;background:#ffffff;border:1px solid #000000;border-radius:1000px;transition:.4s ease-in-out;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.shield-image{opacity:0;transition:opacity .4s ease-in-out}@keyframes animateRedNodeBackground{0%{scale:.73;opacity:0}50%{scale:1;opacity:.6}to{scale:1;opacity:0}}@keyframes animateBlueNodeBackground{0%{scale:.73;opacity:0}50%{scale:1;opacity:.3}to{scale:1;opacity:0}}
`),ce([l({type:Number})],W.prototype,"index",2),ce([l({type:Boolean})],W.prototype,"disabled",2),ce([l({type:Boolean})],W.prototype,"isValidOption",2),ce([l({type:Boolean})],W.prototype,"isLastPressedNode",2),ce([w(".tile-inner")],W.prototype,"tileInner",2),ce([w(".node")],W.prototype,"node",2),W=ce([p("private-spaces-tile")],W);var wi=Object.defineProperty,Gi=Object.getOwnPropertyDescriptor,J=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Gi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&wi(t,s,i),i};let F=class extends g{constructor(){super(...arguments),this.numberOfTiles=Ze*We,this.interactions=function(){const e=Ze*We;if(f["private-space"].maxScore>e)return console.error("not enough tiles to have all random numbers, please add tiles or reduce the level count"),[];const t=[];for(let s=0;s<f["private-space"].maxScore;s++){let a=N(0,e);for(;t.includes(a);)a=N(0,e);t.push(a)}return t}(),this.stopwatchService=j.getInstance(),this.currentLevel=f[o.PRIVATE_SPACE].startLevel,this.pressedTiles=[],this.failedAttempts=0,this.canInteract=!1,this.hasShownEndMessage=!1}connectedCallback(){super.connectedCallback(),this.getCurrentLevelInteractions=this.getCurrentLevelInteractions.bind(this),this.getHasNoMistakes=this.getHasNoMistakes.bind(this),this.handlePressedTilesUpdated=this.handlePressedTilesUpdated.bind(this),this.setGridSize=this.setGridSize.bind(this),this.animateTile=this.animateTile.bind(this),this.reactivateTiles=this.reactivateTiles.bind(this),this.handleContinueLevel=this.handleContinueLevel.bind(this),this.endGame=this.endGame.bind(this),this.resetTileStates(),this.stopwatchService.setMaxTime(f[o.PRIVATE_SPACE].maxTime),this.stopwatchService.onEnd(this.endGame),this.stopwatchService.start(),this.dispatchEvent(new CustomEvent("showMessage",{detail:{value:m[o.PRIVATE_SPACE].botMessages[h.TUTORIAL][Te.TUTORIAL_REMEMBER],type:h.TUTORIAL}}));const e=new CustomEvent("miniGameLoaded",{detail:o.PRIVATE_SPACE});document.dispatchEvent(e)}firstUpdated(){this.setGridSize()}willUpdate(e){e.has("pressedTiles")&&this.handlePressedTilesUpdated()}getHasNoMistakes(){return!this.pressedTiles.length||dt(this.pressedTiles,[...this.getCurrentLevelInteractions()].slice(0,this.pressedTiles.length))}getCurrentLevelInteractions(){return this.interactions.slice(0,this.currentLevel)}setGridSize(){this.grid&&gsap.set(this.grid,{gridTemplateColumns:`repeat(${Ze}, 58px)`,gridTemplateRows:`repeat(${We}, 58px)`})}animateTile(e){this.tiles&&this.tiles[this.interactions[e-1]].flashTile("red")}reactivateTiles(){this.canInteract=!0,this.currentLevel===1&&this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:h.TUTORIAL,value:m[o.PRIVATE_SPACE].botMessages[h.TUTORIAL][Te.TUTORIAL_HIDE]}}))}deactivateTiles(){this.canInteract=!1}startAnimatingTiles(){this.deactivateTiles();let e=null,t=0;e=setInterval(()=>{if(t===this.currentLevel&&typeof e=="number")return clearInterval(e),e=null,t=0,void this.reactivateTiles();this.animateTile(t+1),t++},1e3)}resetTileStates(){setTimeout(()=>{this.tiles?.forEach(e=>e.resetTile()),this.startAnimatingTiles()},500)}handleRetry(){this.dispatchEvent(new CustomEvent("showMessage",{detail:{value:m[o.PRIVATE_SPACE].botMessages[h.FAILURE],type:h.FAILURE}})),this.pressedTiles=[],this.failedAttempts++,this.failedAttempts===Ti?this.handleContinueLevel():this.resetTileStates()}endGame(){this.hasShownEndMessage||this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:h.SUCCESS,value:m[o.PRIVATE_SPACE].botMessages[h.SUCCESS]}})),this.hasShownEndMessage=!0,setTimeout(()=>{this.dispatchEvent(new CustomEvent("endGame"))},3e3)}handleContinueLevel(){if(this.failedAttempts=0,this.currentLevel++,this.dispatchEvent(new CustomEvent("updateGameScore",{detail:{score:this.currentLevel-f[o.PRIVATE_SPACE].startLevel}})),this.dispatchEvent(new CustomEvent("showMessage",{detail:{value:m[o.PRIVATE_SPACE].botMessages[h.TUTORIAL][Te.TUTORIAL_REMEMBER],type:h.TUTORIAL}})),this.currentLevel>f[o.PRIVATE_SPACE].maxScore)return this.deactivateTiles(),void this.endGame();this.resetTileStates(),this.pressedTiles=[],this.resetTileStates()}handlePressedTilesUpdated(){this.pressedTiles.length&&(this.getHasNoMistakes()?this.pressedTiles.length===this.getCurrentLevelInteractions().length&&setTimeout(()=>{this.handleContinueLevel()},1e3):this.handleRetry())}render(){return c`<div class="background"><div class="horizontal-lines"><hr class="line"><hr class="line"><hr class="line"></div><div class="vertical-lines"><hr class="line"><hr class="line"><hr class="line"></div></div><section class="grid">${this.renderTiles()}</section>`}tileClicked({detail:{value:e}}){if(!this.canInteract)return;const t=structuredClone(this.pressedTiles);t.push(e),this.pressedTiles=t}getCurrentlyPressedNodes(){return structuredClone(this.interactions).slice(0,this.currentLevel).slice(0,this.pressedTiles.length)}isLastPressedNode(e){const t=this.getCurrentlyPressedNodes();return t[t.length-1]===e}renderTiles(){return ue(new Array(this.numberOfTiles),(e,t)=>c`<private-spaces-tile .isValidOption="${this.getCurrentlyPressedNodes().includes(t)}" .isLastPressedNode="${this.isLastPressedNode(t)}" @clicked="${this.tileClicked}" .index="${t}" .disabled="${!this.canInteract}"></private-spaces-tile>`)}};F.styles=u(`:host{display:flex;justify-content:center;align-items:center;position:relative;inline-size:100%;block-size:100%;box-sizing:border-box}.grid{display:grid;position:relative;gap:36px}.background{position:absolute;inset:0;inline-size:100%;block-size:100%;box-sizing:border-box;background:linear-gradient(193.25deg,#f4f4f4 -5.42%,#d9d9d9 102.87%);display:flex;align-items:center;justify-content:center}.horizontal-lines,.vertical-lines{display:flex;justify-content:space-between}.horizontal-lines{flex-direction:column;block-size:186px;inline-size:100%}.line{position:relative;margin:0;border:none}.horizontal-lines .line{inline-size:100%;block-size:1px;background:linear-gradient(90deg,rgba(228,228,228,.5) -4.1%,#b5bac1 70.4%,rgba(229,229,229,.5) 101.58%)}.vertical-lines{inline-size:186px;block-size:100%;position:absolute}.vertical-lines .line{block-size:100%;inline-size:1px;background:linear-gradient(0deg,rgba(228,228,228,.5) -4.1%,#b5bac1 70.4%,rgba(229,229,229,.5) 101.58%)}
`),J([w(".grid")],F.prototype,"grid",2),J([xt("private-spaces-tile")],F.prototype,"tiles",2),J([d()],F.prototype,"currentLevel",2),J([d()],F.prototype,"pressedTiles",2),J([d()],F.prototype,"failedAttempts",2),J([d()],F.prototype,"canInteract",2),J([d()],F.prototype,"hasShownEndMessage",2),F=J([p("private-spaces-game")],F);const U={PHONE_DANGER:`
  <svg width="113" height="234" viewBox="0 0 113 234" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="5.78955" y="5.78931" width="101.316" height="221.447" rx="23.25" fill="#202124"/>
<rect x="1.455" y="1.455" width="109.985" height="230.116" rx="27.605" stroke="#202124" stroke-width="2.91"/>
<path d="M13.4185 207.042C13.4185 206.141 14.149 205.41 15.0501 205.41H20.4889C21.3901 205.41 22.1206 206.141 22.1206 207.042V207.042C22.1206 207.943 21.3901 208.674 20.4889 208.674H15.0501C14.149 208.674 13.4185 207.943 13.4185 207.042V207.042Z" fill="#D9D9D9"/>
<path d="M91.9458 207.042C91.9458 206.141 92.6763 205.41 93.5774 205.41H99.0163C99.9174 205.41 100.648 206.141 100.648 207.042V207.042C100.648 207.943 99.9174 208.674 99.0163 208.674H93.5774C92.6763 208.674 91.9458 207.943 91.9458 207.042V207.042Z" fill="#D9D9D9"/>
<path d="M42.8477 56.9664C42.8477 55.8662 43.7395 54.9744 44.8397 54.9744H86.6725C87.7726 54.9744 88.6645 55.8662 88.6645 56.9664V56.9664C88.6645 58.0666 87.7726 58.9584 86.6725 58.9584H44.8397C43.7395 58.9584 42.8477 58.0666 42.8477 56.9664V56.9664Z" fill="#7C7C7C"/>
<path d="M42.8477 63.9384C42.8477 62.8383 43.7395 61.9464 44.8397 61.9464H76.7123C77.8125 61.9464 78.7043 62.8383 78.7043 63.9384V63.9384C78.7043 65.0386 77.8125 65.9305 76.7123 65.9305H44.8397C43.7395 65.9305 42.8477 65.0386 42.8477 63.9384V63.9384Z" fill="#7C7C7C"/>
<path d="M12.9673 60.9504C12.9673 54.3494 18.3185 48.9982 24.9195 48.9982V48.9982C31.5205 48.9982 36.8717 54.3494 36.8717 60.9504V60.9504C36.8717 67.5514 31.5205 72.9026 24.9195 72.9026V72.9026C18.3185 72.9026 12.9673 67.5514 12.9673 60.9504V60.9504Z" fill="#F6A9B2"/>
<mask id="mask0_136_5" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="12" y="48" width="25" height="25">
<path d="M12.9673 60.9504C12.9673 54.3494 18.3185 48.9982 24.9195 48.9982V48.9982C31.5205 48.9982 36.8717 54.3494 36.8717 60.9504V63.9384C36.8717 68.8892 32.8583 72.9026 27.9076 72.9026H21.9315C16.9807 72.9026 12.9673 68.8892 12.9673 63.9384V60.9504Z" fill="#AECBFA"/>
</mask>
<g mask="url(#mask0_136_5)">
<mask id="mask1_136_5" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="12" y="48" width="25" height="25">
<path d="M12.9673 60.9504C12.9673 54.3494 18.3185 48.9982 24.9195 48.9982V48.9982C31.5205 48.9982 36.8717 54.3494 36.8717 60.9504V60.9504C36.8717 67.5514 31.5205 72.9026 24.9195 72.9026V72.9026C18.3185 72.9026 12.9673 67.5514 12.9673 60.9504V60.9504Z" fill="#F6A9B2"/>
</mask>
<g mask="url(#mask1_136_5)">
<circle cx="24.9666" cy="58.3583" r="4.09841" fill="#CA3F3F"/>
<path d="M33.6089 68.8935C33.6089 71.1073 31.8142 72.902 29.6004 72.902L20.287 72.902C18.0731 72.902 16.2785 71.1073 16.2785 68.8935V68.8935C16.2785 66.0888 18.5521 63.8152 21.3567 63.8152L28.5306 63.8152C31.3353 63.8152 33.6089 66.0888 33.6089 68.8935V68.8935Z" fill="#CA3F3F"/>
</g>
</g>
<path d="M12.9673 108.261C12.9673 104.686 15.8658 101.787 19.4414 101.787H94.1428C97.7184 101.787 100.617 104.686 100.617 108.261V108.261C100.617 111.837 97.7184 114.735 94.1428 114.735H19.4414C15.8658 114.735 12.9673 111.837 12.9673 108.261V108.261Z" fill="#F6A9B2"/>
<ellipse cx="20.2588" cy="108.694" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="25.7642" cy="108.694" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="31.2691" cy="108.694" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="36.6959" cy="108.694" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="41.9258" cy="108.694" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="47.1553" cy="108.694" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<path d="M12.9673 90.333C12.9673 86.7574 15.8658 83.8589 19.4414 83.8589H94.1428C97.7184 83.8589 100.617 86.7574 100.617 90.333V90.333C100.617 93.9086 97.7184 96.8071 94.1428 96.8071H19.4414C15.8658 96.8071 12.9673 93.9086 12.9673 90.333V90.333Z" fill="#F6A9B2"/>
<ellipse cx="20.2588" cy="90.7657" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="25.7642" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="31.2691" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="39.6841" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="45.1895" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="50.8912" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="64.4576" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="59.1099" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<ellipse cx="69.8052" cy="90.7656" rx="1.92681" ry="1.92681" fill="#CA3F3F"/>
<path d="M12.3584 29.0846C12.3584 19.8368 19.8552 12.34 29.1031 12.34H84.2594C93.5072 12.34 101.004 19.8368 101.004 29.0846V29.0846C101.004 35.7893 95.5688 41.2245 88.8642 41.2245H24.4983C17.7936 41.2245 12.3584 35.7893 12.3584 29.0846V29.0846Z" fill="#CA3F3F"/>
<path d="M50.4064 33.0568H63.0165C63.9479 33.0568 64.5196 32.0386 64.0368 31.2426L57.7297 20.881C57.265 20.1173 56.1559 20.1173 55.6913 20.881L49.3862 31.2426C48.9034 32.0386 49.4751 33.0568 50.4064 33.0568Z" fill="white"/>
<path d="M56.1477 26.7481V24.9908H57.2907V26.7481L57.1884 29.0002H56.25L56.1477 26.7481ZM56.7192 31.1498C56.5145 31.1498 56.3382 31.0788 56.1903 30.9366C56.0481 30.7887 55.9771 30.6124 55.9771 30.4077C55.9771 30.203 56.0481 30.0295 56.1903 29.8873C56.3382 29.7452 56.5145 29.6741 56.7192 29.6741C56.9239 29.6741 57.0974 29.7452 57.2396 29.8873C57.3874 30.0295 57.4614 30.203 57.4614 30.4077C57.4614 30.6124 57.3874 30.7887 57.2396 30.9366C57.0974 31.0788 56.9239 31.1498 56.7192 31.1498Z" fill="#CA3F3F"/>
</svg>
`,PHONE_DEFAULT:`<svg width="114" height="234" viewBox="0 0 114 234" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="5.80615" y="5.80627" width="101.61" height="222.09" rx="23.2251" fill="#202124"/>
<rect x="1.45157" y="1.45157" width="110.319" height="230.799" rx="27.5798" stroke="#202124" stroke-width="2.90313"/>
<rect x="13.064" y="205.842" width="8.73689" height="3.27633" rx="1.63817" fill="#D9D9D9"/>
<rect x="91.9053" y="205.842" width="8.73689" height="3.27633" rx="1.63817" fill="#D9D9D9"/>
<rect x="42.6113" y="54.8047" width="46" height="4" rx="2" fill="#7C7C7C"/>
<rect x="42.6113" y="61.8047" width="36" height="4" rx="2" fill="#7C7C7C"/>
<mask id="mask0_240_2716" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="12" y="48" width="25" height="25">
<rect x="12.6113" y="48.8047" width="24" height="24" rx="12" fill="#AECBFA"/>
</mask>
<g mask="url(#mask0_240_2716)">
<rect x="12.6113" y="48.8047" width="24" height="24" rx="12" fill="#AECBFA"/>
<circle cx="24.6582" cy="58.2022" r="4.11479" fill="#1A73E8"/>
<path d="M33.335 72.8041L15.9353 72.8041L15.9353 72.3808C15.9353 67.576 19.8303 63.681 24.6351 63.681C29.4399 63.681 33.335 67.5761 33.335 72.3808L33.335 72.8041Z" fill="#1A73E8"/>
</g>
<rect x="12.6113" y="101.805" width="88" height="13" rx="6.5" fill="#404040"/>
<circle cx="19.9321" cy="108.739" r="1.93451" fill="#D9D9D9"/>
<circle cx="25.4594" cy="108.739" r="1.93451" fill="#D9D9D9"/>
<circle cx="30.9863" cy="108.739" r="1.93451" fill="#D9D9D9"/>
<circle cx="36.4345" cy="108.739" r="1.93451" fill="#D9D9D9"/>
<circle cx="41.6855" cy="108.739" r="1.93451" fill="#D9D9D9"/>
<circle cx="46.9365" cy="108.739" r="1.93451" fill="#D9D9D9"/>
<rect x="12.6113" y="83.8047" width="88" height="13" rx="6.5" fill="#404040"/>
<circle cx="19.9321" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="25.4594" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="30.9863" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="39.435" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="44.9623" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="50.687" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="64.3076" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="58.9379" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
<circle cx="69.6767" cy="90.7391" r="1.93451" fill="#D9D9D9"/>
</svg>`,PHONE_LOCKED:`<svg width="114" height="235" viewBox="0 0 114 235" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="6.13965" y="6.25098" width="101.721" height="222.333" rx="23.2505" fill="#202124"/>
<rect x="1.7803" y="1.89261" width="110.44" height="231.052" rx="27.6099" stroke="#202124" stroke-width="2.90631"/>
<rect x="13.4055" y="206.508" width="8.74644" height="3.27992" fill="#D9D9D9"/>
<rect x="13.4055" y="116.693" width="34.0204" height="2.72163" fill="#D9D9D9"/>
<rect x="13.4055" y="122.134" width="19.0514" height="2.72163" fill="#D9D9D9"/>
<rect x="92.333" y="206.508" width="8.74644" height="3.27992" fill="#D9D9D9"/>
<rect x="13" y="49" width="88" height="100" rx="17" fill="#FBBC04"/>
<path d="M67.3821 98.8885H46.282V86.5492C46.282 80.7329 51.0149 76 56.8328 76C62.6491 76 67.3821 80.7329 67.3821 86.5492V98.8885ZM51.0327 94.1394H62.6314V86.5492C62.6314 83.3508 60.0296 80.7491 56.8312 80.7491C53.6328 80.7491 51.0311 83.3508 51.0311 86.5492V94.1394H51.0327Z" fill="white"/>
<path d="M69.7193 93.389H43.9462C42.319 93.389 41 94.708 41 96.3351V113.664C41 115.292 42.319 116.611 43.9462 116.611H69.7193C71.3465 116.611 72.6655 115.292 72.6655 113.664V96.3351C72.6655 94.708 71.3465 93.389 69.7193 93.389Z" fill="white"/>
<path d="M59.3628 110.233L57.3609 103.769C58.3441 103.473 59.075 102.596 59.075 101.518C59.075 100.2 58.0077 99.1328 56.6883 99.1328C55.3688 99.1328 54.3032 100.202 54.3032 101.518C54.3032 102.693 55.1683 103.626 56.2873 103.822L54.3032 110.232H59.3628V110.233Z" fill="#FBBC04"/>
</svg>`,HAND_OPEN:`<svg width="75" height="333" viewBox="0 0 75 333" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.3709 100.642L0.000258102 100.631C0.0968672 78.7738 0.193476 56.9132 0.290085 35.0564C0.252926 34.3801 -0.00718868 27.8773 4.23635 23.6895C7.17561 20.7874 10.4976 20.7577 11.4563 20.7874C11.4266 47.4043 11.4006 74.0249 11.3709 100.642Z" fill="#5F6368"/>
<path d="M25.6471 86.9522L14.2765 86.9411C14.3731 65.0842 14.4697 43.2237 14.5663 21.3669C14.5291 20.6906 14.269 14.1878 18.5126 9.99999C21.4518 7.09789 24.7738 7.06816 25.7325 7.09789C25.7028 33.7148 25.6768 60.3353 25.6471 86.9522Z" fill="#5F6368"/>
<path d="M40.7223 79.8589L29.3517 79.8477C29.4483 57.9909 29.5449 36.1304 29.6415 14.2735C29.6044 13.5973 29.3443 7.09446 33.5878 2.90666C36.5271 0.00455514 39.8491 -0.025173 40.8078 0.00455394C40.778 26.6214 40.752 53.242 40.7223 79.8589Z" fill="#5F6368"/>
<path d="M55.4227 88.8401L44.0521 88.829C44.1487 66.9722 44.2453 45.1116 44.3419 23.2548C44.3048 22.5785 44.0447 16.0757 48.2882 11.8879C51.2275 8.98582 54.5495 8.95609 55.5082 8.98582C55.4784 35.6027 55.4524 62.2233 55.4227 88.8401Z" fill="#5F6368"/>
<path d="M61.9997 85.6222C63.0959 84.682 64.3333 83.9017 65.7007 83.3666C68.3762 82.315 71.1742 82.2259 73.7679 82.8836L74.3253 57.4446C73.3257 57.3889 69.8514 57.3517 66.7152 60.3207C62.1855 64.6051 62.3156 71.4089 62.3416 72.1187C62.2264 76.6186 62.1149 81.1222 61.9997 85.6222Z" fill="#5F6368"/>
<path d="M55 85L0 85L4.33617e-05 333L55 333L55 85Z" fill="black"/>
<path d="M55.378 85.083L0.0968323 85.083L0.0968378 116.884L55.378 116.884L55.378 85.083Z" fill="black"/>
<path d="M54.3153 98.1592C54.5754 98.7761 54.8393 99.3966 55.0994 100.013C61.3235 94.2613 67.5476 88.5054 73.7717 82.7532C73.114 81.9951 70.7321 79.4721 66.4179 79.2788C60.1901 79.0001 55.3855 83.8196 54.895 84.3287C53.3157 85.7779 51.7365 87.2271 50.161 88.6763C51.5656 91.846 52.985 95.0007 54.3227 98.1592L54.3153 98.1592Z" fill="black"/>
<path d="M0.15432 63.5051L55.4466 63.563L55.4077 100.778C55.4014 106.764 50.5359 111.619 44.5496 111.613L10.9507 111.578C4.96437 111.571 0.109089 106.706 0.115356 100.72L0.15432 63.5051Z" fill="#383838"/>
<path d="M11.4151 59.9528L0.174583 59.9528L0.174584 63.52L11.4151 63.52L11.4151 59.9528Z" fill="black"/>
<path d="M25.6768 59.41L14.3842 59.41L14.3842 63.516L25.6768 63.516L25.6768 59.41Z" fill="black"/>
<path d="M40.726 59.4101L29.4335 59.4101L29.4335 63.5161L40.726 63.5161L40.726 59.4101Z" fill="black"/>
<path d="M55.4487 59.3987L44.1672 59.3987L44.1672 63.5531L55.4487 63.5531L55.4487 59.3987Z" fill="black"/>
</svg>`,HAND_POINTING:`<svg width="74" height="333" viewBox="0 0 74 333" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M54.3317 82.0908L42.6711 82.0876C42.7484 59.6775 42.818 37.2675 42.8953 14.8574C42.8556 14.1642 42.5837 7.4968 46.9333 3.20022C49.9446 0.221475 53.3486 0.18668 54.3301 0.216791C54.328 27.5107 54.3338 54.7968 54.3317 82.0908Z" fill="#5F6368"/>
<path d="M61.2383 80.7197C62.359 79.7526 63.6278 78.9567 65.0293 78.4022C67.77 77.3243 70.6442 77.2278 73.301 77.8948L73.8418 51.8155C72.8136 51.762 69.2538 51.7269 66.0401 54.7682C61.4023 59.1663 61.5422 66.1376 61.5663 66.8698C61.4544 71.4812 61.3425 76.1004 61.2305 80.7119L61.2383 80.7197Z" fill="#5F6368"/>
<path d="M42.4561 73.3588C42.3186 63.3061 42.1811 53.2534 42.0436 43.2008C41.9933 39.4355 38.8369 36.3266 35.01 36.2576C31.4341 36.2014 28.5821 39.0042 28.6459 42.5229L29.1684 73.3173C33.5948 73.3429 38.0213 73.3684 42.4562 73.3676L42.4561 73.3588Z" fill="#5F6368"/>
<path d="M28.4256 69.9198C28.3169 61.9482 28.2082 53.9767 28.0993 45.9963C28.049 42.2309 24.8926 39.1221 21.0657 39.0531C17.4898 38.9969 14.6378 41.7996 14.7016 45.3183L15.1184 69.7899C19.5543 69.842 23.99 69.8853 28.4256 69.9198Z" fill="#5F6368"/>
<path d="M10.6751 64.2563C11.8402 64.2746 13.0051 64.2841 14.17 64.2936C14.1001 59.4524 14.0392 54.6113 13.9695 49.7789C13.9192 46.0136 10.7628 42.9047 6.93586 42.8357C3.36 42.7795 0.507938 45.5823 0.571739 49.101L0.826454 64.1367C4.1064 64.1794 7.3953 64.2223 10.6752 64.2651L10.6751 64.2563Z" fill="#5F6368"/>
<path d="M54.4465 80.1752L0.716223 80.2326L0.985477 332.591L54.7158 332.534L54.4465 80.1752Z" fill="#53565A"/>
<path d="M53.3699 93.5806C53.6354 94.2112 53.9087 94.8497 54.1742 95.4803C60.5474 89.577 66.9206 83.6737 73.3015 77.7625C72.6308 76.9843 70.1822 74.4008 65.7576 74.203C59.3701 73.9216 54.4525 78.8731 53.9467 79.3878C52.3281 80.8773 50.7095 82.3668 49.0987 83.8485C50.5432 87.0951 52.0032 90.3339 53.3776 93.565L53.3699 93.5806Z" fill="black"/>
<path d="M42.069 54.0074C42.1241 63.7674 42.1792 73.5274 42.2344 83.2874C36.4934 89.5952 28.8738 86.1137 28.8685 81.074L28.8126 53.8736C33.2284 53.9078 37.6443 53.9498 42.069 54.0074Z" fill="black"/>
<path d="M54.3254 53.9869C54.3747 63.7469 54.4241 73.5069 54.4734 83.2669C49.4716 89.5738 42.8313 86.0913 42.826 81.0516L42.7736 53.8512C46.6216 53.886 50.4696 53.9287 54.3254 53.9869Z" fill="black"/>
<path d="M28.124 54.0743C28.1671 61.1159 28.2013 68.1574 28.2444 75.2068C28.2657 78.5328 25.1935 81.239 21.3985 81.2508C17.8524 81.2546 14.9702 78.7417 14.9669 75.6338L14.9261 54.0183C19.3254 54.0292 23.7247 54.0557 28.124 54.0743Z" fill="black"/>
<path d="M0.584209 54.2345C5.07082 54.2452 9.55742 54.2482 14.0531 54.259C14.0857 59.4155 14.1093 64.5721 14.142 69.7208C8.33238 76.0286 0.621829 72.5472 0.616452 67.5075L0.602282 54.2266L0.584209 54.2345Z" fill="black"/>
<path d="M0.675228 57.9684L54.5294 57.9673L54.5302 96.1196C54.5303 102.258 49.7947 107.243 43.9638 107.243L11.2354 107.244C5.40453 107.244 0.668696 102.259 0.668575 96.1206L0.667821 57.9684L0.675228 57.9684Z" fill="#383838"/>
</svg>`,DANGER_OUTLINE:`<svg width="166" height="292" viewBox="0 0 166 292" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect opacity="0.1" x="1.53104" y="2.03464" width="162.938" height="287.909" rx="50.9527" stroke="#CA3F3F" stroke-width="2.72163"/>
<rect opacity="0.25" x="15.2898" y="15.7915" width="135.42" height="258.938" rx="38.6471" stroke="#FE4747" stroke-width="4.08245"/>
</svg>`},Fe={minTimeBetweenInteractions:2,maxTimeBetweenInteractions:4,timeUntilGrab:1,images:[U.HAND_OPEN,void 0,U.HAND_POINTING,U.HAND_OPEN,U.PHONE_DEFAULT,U.HAND_POINTING,U.HAND_OPEN,void 0,U.HAND_POINTING]};var Oi=Object.defineProperty,Ii=Object.getOwnPropertyDescriptor,xe=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Ii(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Oi(t,s,i),i},se=(e=>(e.ACTIVE="active",e.INACTIVE="inactive",e.LOCKED="locked",e))(se||{});let ee=class extends g{constructor(){super(...arguments),this.stopwatchService=j.getInstance(),this.status="inactive",this.index=0,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.handleGrab=this.handleGrab.bind(this),this.getIsGrabbing=this.getIsGrabbing.bind(this),this.getIsCenterTile=this.getIsCenterTile.bind(this)}willUpdate(e){e.has("status")&&this.getIsGrabbing()&&this.stopwatchService.setOnTimeCallback([this.stopwatchService.getCurrentTime()+Fe.timeUntilGrab],this.handleGrab),e.has("status")&&this.status==="active"&&this.vibratePhone()}vibratePhone(){if(!this.getIsCenterTile())return;const e=.05,t="3deg";gsap.timeline({ease:"power1.inOut"}).to(this.phone,{rotate:t,duration:e}).to(this.phone,{rotate:"-3deg",duration:e}).to(this.phone,{rotate:t,duration:e}).to(this.phone,{rotate:"-3deg",duration:e}).to(this.phone,{rotate:"0deg",duration:e})}handleGrab(){this.getIsGrabbing()&&this.dispatchEvent(new CustomEvent("grabbed",{detail:{value:this.index}}))}emitClicked(){this.disabled||this.dispatchEvent(new CustomEvent("clicked",{detail:{value:this.index}}))}getIsCenterTile(){return this.index===4}getIsGrabbing(){return this.status==="active"&&!this.getIsCenterTile()}getImage(){return this.image?this.getIsCenterTile()?this.status==="active"?me(U.PHONE_DANGER):this.status==="locked"?me(U.PHONE_LOCKED):me(this.image):me(this.image):""}render(){return c`<button @click="${this.emitClicked}" class="grid-tile ${S({[this.status]:!0})}" aria-label="${`grid-tile-${this.index}`}" .disabled="${this.disabled}"><div class="phone-danger-background">${me(U.DANGER_OUTLINE)}</div><div @click="${this.emitClicked}" class="reaching-image ${S({phone:this.getIsCenterTile()})}">${this.getImage()}</div></button>`}};ee.styles=u(`:host{display:block;position:relative;z-index:1}:host(:nth-child(1)) .grid-tile.active .reaching-image,:host(:nth-child(3)) .grid-tile.active .reaching-image,:host(:nth-child(7)) .grid-tile.active .reaching-image,:host(:nth-child(9)) .grid-tile.active .reaching-image{transform:translateY(20%)}:host(:nth-child(1)) .grid-tile.inactive .reaching-image,:host(:nth-child(3)) .grid-tile.inactive .reaching-image,:host(:nth-child(7)) .grid-tile.inactive .reaching-image,:host(:nth-child(9)) .grid-tile.inactive .reaching-image{transform:translateY(240%)}:host(:nth-child(2)) .grid-tile.active .reaching-image,:host(:nth-child(4)) .grid-tile.active .reaching-image,:host(:nth-child(6)) .grid-tile.active .reaching-image,:host(:nth-child(8)) .grid-tile.active .reaching-image{transform:translateY(40%)}:host(:nth-child(2)) .grid-tile.inactive .reaching-image,:host(:nth-child(4)) .grid-tile.inactive .reaching-image,:host(:nth-child(6)) .grid-tile.inactive .reaching-image,:host(:nth-child(8)) .grid-tile.inactive .reaching-image{transform:translateY(200%)}:host(:nth-child(1)) .reaching-image{rotate:135deg}:host(:nth-child(2)) .reaching-image{rotate:180deg}:host(:nth-child(3)) .reaching-image{rotate:225deg}:host(:nth-child(4)) .reaching-image{rotate:90deg}:host(.center){z-index:0}:host(:nth-child(6)) .reaching-image{rotate:-90deg}:host(:nth-child(7)) .reaching-image{rotate:45deg}:host(:nth-child(9)) .reaching-image{rotate:-45deg}:host(.center) .grid-tile.active{cursor:default}.grid-tile{inline-size:100%;block-size:100%;border:none;background:transparent;-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center;pointer-events:none}.grid-tile.active{cursor:pointer;pointer-events:all}.reaching-image{position:absolute;inset:0;transition:1s ease-in-out;transform-origin:center;user-select:none;max-inline-size:100%;max-block-size:100%;object-fit:cover;margin:auto;overflow:visible;inline-size:74px;display:flex;align-items:center;justify-content:center}.reaching-image:not(.phone){inline-size:75px;block-size:333px}.reaching-image.phone{inline-size:113px;transition:none}.phone-danger-background{position:absolute;inset:0 auto;display:flex;align-items:center;justify-content:center;inline-size:165px;opacity:0;transition:opacity .15s ease-in-out}:host(:nth-child(5)) .grid-tile.active .phone-danger-background{opacity:1}
`),xe([l()],ee.prototype,"status",2),xe([l()],ee.prototype,"image",2),xe([l({type:Number})],ee.prototype,"index",2),xe([l({type:Boolean})],ee.prototype,"disabled",2),xe([w(".phone")],ee.prototype,"phone",2),ee=xe([p("snatch-detection-tile")],ee);var Ai=Object.defineProperty,Si=Object.getOwnPropertyDescriptor,de=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Si(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Ai(t,s,i),i};let K=class extends g{constructor(){super(...arguments),this.maxTime=f["theft-detection"].maxTime,this.stopwatchService=j.getInstance(),this.backgroundSprite="https://kstatic.googleusercontent.com/files/533a2083a890864817f3aa344adeedece4216ba640cc43ff789e4b572fe309e0365e052d6621d73c4c95bf81cee0b3b38076852daf910ac892bb18287eda8c4c",this.gridTiles=Fe.images.map(e=>({status:se.INACTIVE,image:e})),this.nonActiveTiles=[1,4,7],this.backgroundStatus="default",this.score=0}connectedCallback(){super.connectedCallback(),this.turnOnRandomTile=this.turnOnRandomTile.bind(this),this.onEnd=this.onEnd.bind(this),this.showMessage(h.TUTORIAL);const e=new CustomEvent("miniGameLoaded",{detail:o.THEFT_DETECTION});document.dispatchEvent(e)}firstUpdated(){this.stopwatchService.setMaxTime(this.maxTime),this.stopwatchService.setOnTimeCallback(function(){const e=[];for(let t=0;t<f["theft-detection"].maxScore;t++){const s=e[e.length-1];e.push((s??0)+N(Fe.minTimeBetweenInteractions,Fe.maxTimeBetweenInteractions))}return e}(),this.turnOnRandomTile),this.stopwatchService.onEnd(this.onEnd),this.stopwatchService.start(),this.setBackgroundImage()}setBackgroundImage(){this.backgroundInner&&this.backgroundContainer&&(this.backgroundInner.style.background=`url(${this.backgroundSprite}) left center`,this.backgroundInner.style.scale=(this.backgroundContainer.clientWidth/360).toString())}showMessage(e){this.dispatchEvent(new CustomEvent("showMessage",{detail:{type:e===h.FAILURE?h.TUTORIAL:e,value:m[o.THEFT_DETECTION].botMessages[e]}}))}onEnd(){this.dispatchEvent(new CustomEvent("endGame"))}updateTile(e,t){const s=[...this.gridTiles];s[t]=e,this.gridTiles=s}turnOnTile(e){this.updateTile({...this.gridTiles[e],status:se.ACTIVE},e)}turnOffTile(e){this.updateTile({...this.gridTiles[e],status:se.INACTIVE},e)}getHandTiles(){const e=structuredClone(this.gridTiles);return e.splice(4,1),e}getHasActiveHands(){return this.getHandTiles().some(e=>e.status===se.ACTIVE)}setPhoneToDanger(){this.turnOnTile(4),this.backgroundStatus="default"}setPhoneToDefault(){this.turnOffTile(4),this.backgroundStatus="default"}turnOnRandomTile(){let e=N(0,this.gridTiles.length-1);for(;this.nonActiveTiles.includes(e)||this.gridTiles[e].status===se.ACTIVE;)e=N(0,this.gridTiles.length-1);this.getHasActiveHands()||this.setPhoneToDanger(),this.turnOnTile(e)}deactivateTile(e){this.nonActiveTiles=[...this.nonActiveTiles,e]}reactivateTile(e){this.nonActiveTiles=structuredClone(this.nonActiveTiles).filter(t=>t!==e)}emitClickTile({detail:{value:e}}){this.gridTiles[e].status===se.ACTIVE&&(this.showMessage(h.SUCCESS),this.turnOffTile(e),this.getHasActiveHands()||this.setPhoneToDefault(),this.deactivateTile(e),this.stopwatchService.setOnTimeCallback([this.stopwatchService.getCurrentTime()+3],()=>this.reactivateTile(e)),this.score++,this.dispatchEvent(new CustomEvent("updateGameScore",{detail:{score:this.score}})),this.score===f[o.THEFT_DETECTION].maxScore&&setTimeout(()=>{this.onEnd()},500))}emitTileGrab(){this.showMessage(h.FAILURE),this.updateTile({...this.gridTiles[4],status:se.LOCKED},4),this.backgroundStatus="locked"}render(){return c`<div class="background ${S({[this.backgroundStatus]:!0})}"><div class="background-inner"></div></div><section class="grid">${this.renderTiles()}</section><div class="flash-container"></div>`}renderTiles(){return ue(this.gridTiles,(e,t)=>c`<snatch-detection-tile class="${S({center:t===4})}" .index="${t}" .status="${e.status}" .image="${e.image}" .disabled="${[1,4,7].includes(t)}" @grabbed="${this.emitTileGrab}" @clicked="${this.emitClickTile}"></snatch-detection-tile>`)}};K.styles=u(`:host{display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:sans-serif;inline-size:100%;block-size:100%;overflow:hidden;box-sizing:border-box}.timer-container{display:flex;flex-direction:column;align-items:center;margin-block-end:50px}.title,.timer{margin:0}.title{font-size:20px;margin-block-end:10px}.grid{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);inline-size:100%;max-inline-size:800px;aspect-ratio:1;margin-block-end:10%}.flash-container{position:absolute;inline-size:100%;block-size:100%;pointer-events:none;background-color:red;opacity:0;inset:0}.flash-container.active{animation:flash 1s ease-in-out infinite}.background{background:linear-gradient(180deg,#e4e4e4 37.4%,#8a8a8a 124.68%);color:#0000;inline-size:100%;block-size:100%;display:flex;align-items:center;justify-content:center;position:absolute;inset:0}.background.locked{background:var(--color-yellow);color:var(--color-yellow)}.background-inner{inline-size:360px;block-size:800px;background-position:left;animation:spriteAnimation 4s steps(106) infinite;transform-origin:center;position:absolute;inset:auto}@keyframes flash{0%{opacity:0}50%{opacity:.3}to{opacity:0}}@keyframes returnToDefault{to{opacity:0}}@keyframes spriteAnimation{to{background-position:-38160px}}
`),de([d()],K.prototype,"gridTiles",2),de([d()],K.prototype,"nonActiveTiles",2),de([d()],K.prototype,"backgroundStatus",2),de([d()],K.prototype,"score",2),de([w(".background-inner")],K.prototype,"backgroundInner",2),de([w(".background")],K.prototype,"backgroundContainer",2),K=de([p("snatch-detection-game")],K);var _i=Object.defineProperty,Li=Object.getOwnPropertyDescriptor,Ke=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Li(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&_i(t,s,i),i};let Se=class extends g{constructor(){super(...arguments),this.imageSource="https://lh3.googleusercontent.com/JFSvqZDYPyuJXMDHNWPlN74cem8lCMI9cmhbu95IoX96uIlA8g5FFLpqjswBidozoEp6yg_88dOEOc7lfiNWBEVcdkIyxykjwtWC5gmseTM5qTtB98M",this.lightThemeFlag="https://lh3.googleusercontent.com/cMTdvol9VhcfP7as59Zy7byans01sAc0A4FPxCuyoK_pfR1ClXcQqHptvPfF2nnZq_36ZrCHfi0kCZnHEYP86Tq5ydQec-0y_5QSxVompAP5Lbkj0fI",this.darkThemeFlag="https://lh3.googleusercontent.com/ed7hmP48U7mxaRv1EOsADHBE-L1AOG8en5MALJ7iqeJ8uizEqE2O6YsKG6UmClthQ-7aU-_XvN7Z0AE4VhDdOmzp1mGWoyMBca9YZieygHlyzE-j8E-c"}connectedCallback(){super.connectedCallback(),this.getTheme=this.getTheme.bind(this)}getTheme(){return this.selectedGame?f[this.selectedGame].theme:x.DARK}goToGameEndScreen(){this.dispatchEvent(new CustomEvent("goToEndScreen"));const e=new CustomEvent("miniGameEnded",{detail:this.selectedGame});document.dispatchEvent(e)}getFlagSrc(){return this.getTheme()!==x.LIGHT?this.darkThemeFlag:this.lightThemeFlag}getFormattedDescription(){return this.selectedGame?m[this.selectedGame].finishModal.scoreLabel.replaceAll("{{score}}",this.scores[this.selectedGame].toString()).replaceAll("{{maxScore}}",f[this.selectedGame].maxScore.toString()):""}render(){return this.selectedGame?c`<div class="container ${S({[this.getTheme()]:!0})}">${this.getTheme()===x.BLUE?c`<div class="blue-color"></div>`:b}<div class="content"><h1 class="title">${m[this.selectedGame].finishModal.title}</h1><p class="description">${m[this.selectedGame].finishModal.description}</p>${this.getFormattedDescription().length?c`<span class="score">${this.getFormattedDescription()}</span>`:b} <img src="${this.imageSource}" class="android-gif"> <img src="${this.getFlagSrc()}" class="flag"><atom-button @clicked="${this.goToGameEndScreen}" icon="${k.ARROW_RIGHT}" class="next-button"></atom-button></div></div>`:b}};Se.styles=u(`:host{display:none;position:absolute;z-index:10;top:calc(50% - var(--finish-modal-height) / 2);left:0;width:100%;height:100%;border-radius:24px;justify-content:center;align-items:center}:host(.is-open){display:flex}.container{display:flex;flex-direction:column;align-items:center;width:100%;position:relative;overflow-y:hidden;border-radius:24px;padding-block-start:40px;box-sizing:border-box}.container.dark{color:var(--color-light);background-color:var(--color-dark)}.container.gray{color:var(--color-light);background-color:var(--color-dark-gray)}.container.light{color:var(--color-dark);background-color:var(--color-light)}.container.blue{color:var(--color-light);background:var(--color-dark)}.blue-color{position:absolute;inset:0;inline-size:100%;block-size:100%;background:linear-gradient(230.41deg,rgba(0,0,0,0) -22.98%,rgba(66,133,244,.3) 97.37%),linear-gradient(53.64deg,rgba(144,113,194,0) 13.15%,rgba(144,113,194,.3) 104.46%);z-index:0}.content{position:relative;inline-size:100%;block-size:100%;z-index:1;display:flex;flex-direction:column;align-items:center}.title{font-weight:700;font-size:32px;line-height:40px;text-align:center;margin:0 0 16px;letter-spacing:-1px;padding-inline:12px}.description{font-weight:400;font-size:18px;line-height:24px;text-align:center;margin:0 0 16px;padding-inline:12px}.score{font-weight:500;font-size:16px;line-height:24px;text-align:center;padding:6px 10px;background-color:#fff9;border-radius:8px;color:var(--color-dark);margin:0 12px;padding-inline:12px}.flag{margin-block-start:167px;width:100%}.next-button{flex-grow:1;align-self:flex-end;display:flex;flex-direction:column;justify-content:flex-end;z-index:1;margin:12px;color:var(--color-dark);position:absolute;inset:auto 0 0 auto}.android-gif{width:278px;position:absolute;inset:50% auto 0;user-select:none;-webkit-user-select:none;user-drag:none;-webkit-user-drag:none}
`),Ke([l()],Se.prototype,"selectedGame",2),Ke([l({type:Object})],Se.prototype,"scores",2),Se=Ke([p("molecule-finish-modal")],Se);var Pi=Object.defineProperty,Di=Object.getOwnPropertyDescriptor,_e=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Di(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Pi(t,s,i),i};const{defaultDuration:lt,shortDuration:Mi}={defaultDuration:.4,shortDuration:.2};let he=class extends g{connectedCallback(){super.connectedCallback(),this.animateHide=this.animateHide.bind(this),this.animateShow=this.animateShow.bind(this),this.showAndHideMessage=this.showAndHideMessage.bind(this),this.setNewMessage=this.setNewMessage.bind(this)}animateHide(e,t){this.messageContainer&&gsap.timeline().to(this.messageContainer,{opacity:0,scale:.8,duration:t||lt,ease:"elastic.inOut",onComplete:()=>{e()}})}animateShow(){this.messageContainer&&this.message?.value&&gsap.timeline().to(this.messageContainer,{opacity:1,scale:1,duration:lt,ease:"elastic.inOut"})}showAndHideMessage(){this.animateShow(),this.timeoutReference=setTimeout(()=>{this.animateHide(()=>this.message=void 0)},5e3)}setNewMessage(e,t){this.message={type:e,value:t}}showMessage(e,t){if(this.selectedGame){if(this.timeoutReference)return clearTimeout(this.timeoutReference),void this.animateHide(()=>{this.setNewMessage(e,t),this.showAndHideMessage()},Mi);this.setNewMessage(e,t),this.showAndHideMessage()}}getColorScheme(){return this.selectedGame?f[this.selectedGame].messageColorScheme:x.LIGHT}render(){return this.selectedGame?c`<div class="bot"><img class="bot-image" src="${f[this.selectedGame].smallBot}" alt="${`${this.selectedGame}-bot`}"></div><div class="message-container ${S({[this.getColorScheme()]:!0,[this.message?.type??""]:Boolean(this.message?.type)})}"><p class="message">${this.message?.value}</p></div>`:b}};he.styles=u(`:host{display:flex;align-items:end;justify-content:start;position:absolute;inset:auto 0 0;inline-size:100%;block-size:fit-content;padding:12px;box-sizing:border-box;gap:14px;pointer-events:none;z-index:2}.bot{inline-size:50px;block-size:50px;min-inline-size:50px;min-block-size:50px;background:var(--color-bot-green);display:flex;border-radius:500px;overflow:hidden}.bot-image{min-block-size:100%;min-inline-size:100%;object-fit:cover}.message-container{padding:20px;box-sizing:border-box;background:var(--color-light);inline-size:100%;border-radius:20px 20px 20px 5px;position:relative;opacity:0;scale:.8}.message-container:not(.dark).success{background:var(--color-light-green)}.message-container:not(.dark).failure{background:var(--color-light-red)}.message-container.dark{background:linear-gradient(230.41deg,rgba(0,0,0,0) -22.98%,rgba(66,133,244,.3) 97.37%),linear-gradient(53.64deg,rgba(144,113,194,0) 13.15%,rgba(144,113,194,.3) 104.46%)}.message-container.dark:before{content:"";position:absolute;inset:0;inline-size:100%;block-size:100%;z-index:-1;border-radius:20px 20px 20px 5px;background:var(--color-dark)}.message-container.dark .message{color:var(--color-light)}.message{font-size:16px;line-height:20px;font-weight:500;padding:0;margin:0;color:var(--color-dark)}
`),_e([l()],he.prototype,"selectedGame",2),_e([l({type:Object})],he.prototype,"message",2),_e([d()],he.prototype,"timeoutReference",2),_e([w(".message-container")],he.prototype,"messageContainer",2),he=_e([p("bot-message")],he);var Ri=Object.defineProperty,Ni=Object.getOwnPropertyDescriptor,te=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Ni(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Ri(t,s,i),i};let H=class extends g{constructor(){super(...arguments),this.stopwatchService=j.getInstance(),this.isModalOpen=!1,this.scores=Object.fromEntries(Object.values(o).map(e=>[e,0])),this.progress=0,this.currentGameTime=0,this.showTimeAddition=!1}connectedCallback(){super.connectedCallback(),this.openModal=this.openModal.bind(this),this.emitBotMessage=this.emitBotMessage.bind(this)}willUpdate(e){e.has("selectedGame")&&this.stopwatchService.reset()}goToGameEndScreen(){this.classList.remove("is-finished"),this.dispatchEvent(new CustomEvent("updateCurrentPage",{detail:{value:z.GAME_END_PAGE}}))}setCurrentGameTime({detail:{currentTime:e}}){this.currentGameTime=e}setShowTimeAddition({detail:{showTimeAddition:e}}){this.showTimeAddition=e}setProgress({detail:{progress:e}}){this.progress=e}updateGameScore({detail:{score:e}}){this.selectedGame&&(this.scores={...this.scores,[this.selectedGame]:e})}emitEndGame(){this.openModal()}openModal(){this.isModalOpen=!0,this.classList.add("is-finished"),this.dispatchEvent(new CustomEvent("finishGame"))}emitBotMessage({detail:{type:e,value:t}}){Je.nextTick(()=>{this.botMessage&&this.botMessage.showMessage(e,t)})}render(){return this.selectedGame?c`<molecule-info-bar .selectedGame="${this.selectedGame}" .progress="${this.progress}" .score="${this.scores[this.selectedGame]}" .currentTime="${this.currentGameTime}" .showBonus="${this.showTimeAddition}" .hasBonus="${f[this.selectedGame].hasBonus}"></molecule-info-bar>${this.renderGame()}<bot-message .selectedGame="${this.selectedGame}"></bot-message><molecule-finish-modal class="${S({"is-open":this.isModalOpen})}" .selectedGame="${this.selectedGame}" .scores="${this.scores}" @goToEndScreen="${this.goToGameEndScreen}"></molecule-finish-modal>`:b}renderGame(){return this.selectedGame?c`<div class="game-container">${{[o.GOOGLE_CAST]:c`<better-together-game @endGame="${this.emitEndGame}" @updateGameScore="${this.updateGameScore}" @showMessage="${this.emitBotMessage}"></better-together-game>`,[o.CIRCLE_TO_SEARCH]:c`<circle-to-search-game @endGame="${this.emitEndGame}" @updateGameScore="${this.updateGameScore}" @showMessage="${this.emitBotMessage}"></circle-to-search-game>`,[o.GOOGLE_PLAY_PROTECT]:c`<endless-runner-game @endGame="${this.emitEndGame}" @updateGameScore="${this.updateGameScore}" @showMessage="${this.emitBotMessage}" theme="${A.AVOID_SPAM}" @updateCurrentTime="${e=>this.setCurrentGameTime(e)}" @updateProgress="${e=>this.setProgress(e)}" @showTimeAddition="${e=>this.setShowTimeAddition(e)}"></endless-runner-game>`,[o.GEMINI_ON_ANDROID]:c`<endless-runner-game @endGame="${this.emitEndGame}" @updateGameScore="${this.updateGameScore}" @showMessage="${this.emitBotMessage}" theme="${A.GEMINI_ON_ANDROID}" @updateCurrentTime="${e=>this.setCurrentGameTime(e)}"></endless-runner-game>`,[o.PRIVATE_SPACE]:c`<private-spaces-game @endGame="${this.emitEndGame}" @updateGameScore="${this.updateGameScore}" @showMessage="${this.emitBotMessage}"></private-spaces-game>`,[o.THEFT_DETECTION]:c`<snatch-detection-game @endGame="${this.emitEndGame}" @updateGameScore="${this.updateGameScore}" @showMessage="${this.emitBotMessage}"></snatch-detection-game>`}[this.selectedGame]}</div>`:b}};H.styles=u(`:host{display:flex;flex-direction:column;inline-size:100%;block-size:100%;font-family:Google Sans}.game-container{position:relative;display:flex;flex:1;overflow:hidden;border-radius:24px 24px 0 0}:host(.is-finished):after{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--color-dark);opacity:.4;z-index:3}
`),te([w("bot-message")],H.prototype,"botMessage",2),te([d()],H.prototype,"isModalOpen",2),te([d()],H.prototype,"scores",2),te([d()],H.prototype,"progress",2),te([d()],H.prototype,"currentGameTime",2),te([d()],H.prototype,"showTimeAddition",2),te([l()],H.prototype,"selectedGame",2),H=te([p("gameplay-screen")],H);var zi=Object.defineProperty,$i=Object.getOwnPropertyDescriptor,B=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?$i(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&zi(t,s,i),i};let D=class extends g{constructor(){super(...arguments),this.theme=x.DARK,this.finishedGames=[],this.hasDismissedLastPage=!1,this.videoEnded=!1,this.allGamesPlayedVideo="https://kstatic.googleusercontent.com/files/269d4314b08b5b3f1e1db1770aca579d103a5ed075b07d7f338b0ae0522b06bc9a29e82f9c93202a177aca7deef53270ebb978f180bedc074a78dadd399c1132"}connectedCallback(){super.connectedCallback(),this.setPlayedAllGamesImageSize=this.setPlayedAllGamesImageSize.bind(this)}goToNextGame(){if(this.getHasPlayedAllGames())return this.hasDismissedLastPage=!0,this.dispatchEvent(new CustomEvent("emitIsOnLastPage")),void Je.nextTick(this.setPlayedAllGamesImageSize);this.dispatchEvent(new CustomEvent("goToNextGame"))}getHasPlayedAllGames(){return this.finishedGames.length>=ae.length}setPlayedAllGamesImageSize(){this.playedAllGamesInfo&&this.style.setProperty("--played-all-games-image-height",`calc(100% - ${this.playedAllGamesInfo.clientHeight}px)`)}handleVideoEnded(){this.videoEnded=!0}replayVideo(){this.videoElement?.play(),this.videoEnded=!1}render(){return this.getHasPlayedAllGames()&&this.hasDismissedLastPage?this.renderAllGamesPlayed():this.renderGameEnd()}renderReplayButton(){return this.videoEnded?c`<atom-button class="replay-button" @clicked="${this.replayVideo}" text="Replay video" .icon="${k.REFRESH}" .ariaLabel="${"Button to replay video"}" variant="white"></atom-button>`:b}renderAllGamesPlayed(){return c`<video autoplay @ended="${this.handleVideoEnded}" class="video played-all-games" src="${this.allGamesPlayedVideo}"></video>${this.renderReplayButton()}`}renderGameEnd(){if(!this.selectedGame)return b;const e=this.playedAllGames?m.general.featureDiscoveryFinishCta:m[this.selectedGame].featureDiscoveryPage.cta;return c`<div class="image-container ${S({loading:!this.background})}">${this.background?c`<img class="image" src="${this.background}" alt="${this.selectedGame}">`:c`<atom-loader></atom-loader>`}</div><div class="info ${S({[this.theme]:!0,"no-disclaimer":!m[this.selectedGame].featureDiscoveryPage.disclaimer.length,"is-overlapping-asset":[o.GOOGLE_CAST,o.PRIVATE_SPACE].includes(this.selectedGame)})}">${this.selectedGame===o.GEMINI_ON_ANDROID?c`<div class="shade"></div>`:b}<atom-badge class="label ${S({"has-black-text":this.theme===x.LIGHT})}">${m[this.selectedGame].featureDiscoveryPage.label}</atom-badge><h2 class="title">${$e(m[this.selectedGame].featureDiscoveryPage.title)}</h2><p class="description">${$e(m[this.selectedGame].featureDiscoveryPage.description)}</p><atom-button class="close-button" text="${e}" icon="${k.ARROW}" variant="${this.theme===x.LIGHT?"black":"white"}" @clicked="${this.goToNextGame}"></atom-button>${m[this.selectedGame].featureDiscoveryPage.disclaimer.length?c`<p class="disclaimer">${$e(m[this.selectedGame].featureDiscoveryPage.disclaimer)}</p>`:b}</div>`}};D.styles=u(`:host{display:flex;flex-direction:column;align-items:end;block-size:100%;background-color:var(--color-dark)}:host(.theft-detection){background:var(--color-gray)}:host(.played-all-games){align-items:center}:host(.private-space) .info{margin-block-start:-150px}:host(.private-space){background:var(--color-dark-gray)}:host(.private-space) .image{inline-size:244px;transform:translateY(-190px);border-radius:0 0 24px 24px}:host(.google-cast){background-color:var(--color-dark)}:host(.google-play-protect){background:linear-gradient(212.65deg,rgba(0,0,0,0) 12.96%,rgba(0,0,0,.5) 41.22%),linear-gradient(0deg,#5f6368,#5f6368),linear-gradient(180deg,#e4e4e4 37.4%,#8a8a8a 124.68%)}:host(.google-play-protect) .image{inline-size:80%;position:absolute;top:48px}:host(.gemini-on-android) .info .shade{inline-size:100%;block-size:100%;position:absolute;inset:0;background:linear-gradient(230.41deg,rgba(0,0,0,0) -22.98%,rgba(66,133,244,.3) 97.37%),linear-gradient(53.64deg,rgba(144,113,194,0) 13.15%,rgba(144,113,194,.3) 104.46%);color:var(--color-light);z-index:-1;border-radius:24px 24px 0 0}.video.played-all-games{min-block-size:var(--played-all-games-image-height);inline-size:auto;margin:0;max-block-size:100%;object-fit:cover}.info{display:flex;position:absolute;inset:auto 0 0;flex-direction:column;padding:32px 24px 0;align-items:center;justify-content:start;inline-size:100%;block-size:fit-content;box-sizing:border-box;border-radius:24px 24px 0 0;z-index:1;background:var(--color-light)}.info.dark{color:var(--color-light);background-color:var(--color-dark)}.info.dark .disclaimer{color:#9aa0a6}.info.gray{color:var(--color-light);background-color:var(--color-dark-gray)}.info.gray .disclaimer{color:#bdc1c6}.info.light{color:var(--color-dark);background-color:var(--color-light)}.info.light .disclaimer{color:#80868b}.info.blue{color:var(--color-light);background:var(--color-dark)}.info.blue .disclaimer{color:#9aa0a6}.label{font-size:16px;font-weight:500;color:var(--color-light);background-color:var(--color-light-30)}.label.has-black-text{color:var(--color-dark);background-color:var(--color-light-gray)}.title{font-size:32px;font-weight:700}.image-container{inline-size:100%;display:flex;align-items:center;justify-content:center}.image-container.loading{block-size:200px}.image{inline-size:100%;margin-inline:auto}.info.no-disclaimer{padding-block-end:48px}.flag-alt-icon{inline-size:fit-content;block-size:auto;margin-block-end:20px;max-inline-size:100%}.label{margin-block-end:16px}.title,.description,.disclaimer{margin:0;text-align:center}.title{font-weight:700;font-size:32px;line-height:40px;letter-spacing:-1px;margin-block-end:16px}.description{font-size:16px;font-weight:400;line-height:24px}.close-button{margin-block-start:24px}.replay-button{position:absolute;bottom:48px}.disclaimer{margin-block:24px 16px;font-size:12px;font-weight:400;line-height:16px;font-family:Roboto Condensed}.description{width:90%;margin:0;font-size:16px;line-height:24px;text-align:center}
`),B([l()],D.prototype,"selectedGame",2),B([l()],D.prototype,"theme",2),B([l({type:Array})],D.prototype,"finishedGames",2),B([l()],D.prototype,"background",2),B([l({type:Boolean})],D.prototype,"playedAllGames",2),B([d()],D.prototype,"hasDismissedLastPage",2),B([d()],D.prototype,"videoEnded",2),B([w(".info.played-all-games")],D.prototype,"playedAllGamesInfo",2),B([w("video")],D.prototype,"videoElement",2),D=B([p("feature-discovery-screen")],D);const Fi={[o.GOOGLE_PLAY_PROTECT]:"https://lh3.googleusercontent.com/2ZZF7yE47sSM-Fu3aW8gWgI2Ewe7K0GiMfYZqnRvyAqlhgdUHDG0ATDS9LSHZI2QYtenVj8jd2aKYG-T_F8ZYc50aqyyQrmU6R6YcfwXWiEn73K3gkg=s0",[o.GOOGLE_CAST]:"https://lh3.googleusercontent.com/lclMB2_-TJnqRj17ZBoMrqpXnlQ_7VuRsun1U0jwBQxgzZtWT6HZcU_K5WZOn4kLyZ_7FlJjtyXPhsK3wzDEyDL5gDf-5v256GDyhMR5z-QgaYpcoQ0",[o.PRIVATE_SPACE]:"https://lh3.googleusercontent.com/kEozJ1OOTimGk2bkIe-9kQ5_IYYtZbHzLLKLDUSxa8WaUzLCB8YfGDL411Fooqf21bvQXrnhW_-7ENdynpr8eNYIrJIZEGAJKrFI7vPTlQjPZ2BmQw",[o.THEFT_DETECTION]:"https://lh3.googleusercontent.com/BKWldou-WbwUIfO8Hu2mqO3d6WknOC96_UxawI0xxeZ9I9HVQH2XxNMReo51i42F_ev4OwxwILIgCHe5tEp83ObWJDRHl3_437ylKrCez7Og1DEIWgw",[o.CIRCLE_TO_SEARCH]:"https://lh3.googleusercontent.com/S8V-4q8nGwp386vnY5rPdJ6dWQ3HVf_JL2KHeGS8KZkDobFVkZRr_Ke1YbL432h4ov2aq6lw-wJ83Mo0pAEel_uAQhyldBGxN5-1LbyA9PVsM-MzDg",[o.GEMINI_ON_ANDROID]:"https://lh3.googleusercontent.com/k5h0492V8I7CjouCMXfMO4YxgjbtwcaoMcR283B8L-TQ5e1GGzl9A-l1iBTnkUXkPy1Jvae6Vod7FhZ7a34mi00vQVd6lvDcyrt_Ohp6MKcU_Y17wh8"},Hi={[o.GOOGLE_PLAY_PROTECT]:"https://kstatic.googleusercontent.com/files/f4330c8bbe3cbfa9fdd81b68448ccf2a4f414ea2a545d0287aa766a3175e3b07f60476da4788d4317810ccbb47d5aee25abd94db85a852bb9814151210412fe7",[o.GOOGLE_CAST]:"https://kstatic.googleusercontent.com/files/1c2079866460f4a57244a78f95f059db0c4cfd11b48ed7409c62d4e4c118ab3358bf779821b11e309795ae6bba98c716fee93c6d032154079849cec8275931af",[o.PRIVATE_SPACE]:"https://kstatic.googleusercontent.com/files/8e5edfcff6517deb227402e13894e4de951a3e5bfdf69edbcc676a571d889ecb6ab41b1105018151a3fcd143da111477bfadc4d05a0f8afc1fd01dea4503bf93",[o.THEFT_DETECTION]:"https://kstatic.googleusercontent.com/files/bdf9174e1f825aa72370fcfda4922dce8ac44458cbd455dc8ac77ea69fab1d55b3ad7d4eccda31de8d729ea107da726e49d37986dd31b5ee3d2c557586f6bf40",[o.CIRCLE_TO_SEARCH]:"https://kstatic.googleusercontent.com/files/e290ee632ddd5d23aaada9f59c5b20d3e68e8a1988a64387f93f56e59e2ed846b0d2dcdbd5f0276de22e367086b6d1c7684e3ec9166e9d601f37ef3026536716",[o.GEMINI_ON_ANDROID]:"https://kstatic.googleusercontent.com/files/081e22b4e8a3b0ef8cf771e44aa5c3b24ccf17bc40f3e5493356fe20a3189172208f93fbfdaf76132282be4caf790958aa6e7aa0e89dd41b626fef5f89842260"};var Bi=Object.defineProperty,Vi=Object.getOwnPropertyDescriptor,ie=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Vi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Bi(t,s,i),i};let V=class extends g{constructor(){super(...arguments),this.currentPage=z.GAME_SELECTION_PAGE,this.splashBackgrounds={[o.CIRCLE_TO_SEARCH]:"",[o.GEMINI_ON_ANDROID]:"",[o.GOOGLE_CAST]:"",[o.GOOGLE_PLAY_PROTECT]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:""},this.featureDiscoveryBackgrounds={[o.CIRCLE_TO_SEARCH]:"",[o.GEMINI_ON_ANDROID]:"",[o.GOOGLE_CAST]:"",[o.GOOGLE_PLAY_PROTECT]:"",[o.PRIVATE_SPACE]:"",[o.THEFT_DETECTION]:""},this.finishedGames=[],this.isOpen=!1}willUpdate(e){e.has("selectedGame")&&(this.fetchSplashBackground(),this.fetchFeatureDiscoveryBackground())}updateCurrentPage({detail:{value:e}}){this.currentPage=e}getHasPlayedAllGames(){return this.finishedGames.length>=ae.length}closeGameModal(){this.dispatchEvent(new CustomEvent("closeGameModal"))}finishGame(){this.dispatchEvent(new CustomEvent("finishGame"))}setSelectedGame(e){this.dispatchEvent(new CustomEvent("setSelectedGame",{detail:{value:e}}))}hasFinishedGame(e){return this.finishedGames?.includes(e)}getNextGame(){if(!this.selectedGame)return;let e=ae.indexOf(this.selectedGame);for(;this.hasFinishedGame(ae[e]);)e>=ae.length-1?e=0:e++;return ae[e]}async fetchSplashBackground(){if(!this.selectedGame||this.splashBackgrounds[this.selectedGame].length)return;const e=Hi[this.selectedGame],t=await Ee([e]),s=structuredClone(this.splashBackgrounds);s[this.selectedGame]=t[0],this.splashBackgrounds=s}async fetchFeatureDiscoveryBackground(){if(!this.selectedGame||this.featureDiscoveryBackgrounds[this.selectedGame].length)return;const e=Fi[this.selectedGame],t=await Ee([e]),s=structuredClone(this.featureDiscoveryBackgrounds);s[this.selectedGame]=t[0],this.featureDiscoveryBackgrounds=s}goToNextGame(){Je.nextTick(()=>{const e=this.getNextGame();e?(this.setSelectedGame(e),this.currentPage=z.GAME_START_PAGE):this.closeGameModal()})}render(){return c`${this.renderStartTemplate()} ${this.renderGameTemplate()} ${this.renderEndTemplate()}`}renderStartTemplate(){return this.currentPage===z.GAME_START_PAGE&&this.selectedGame?c`<splash-screen class="${this.selectedGame??""}" .selectedGame="${this.selectedGame}" @updateCurrentPage="${this.updateCurrentPage}" .theme="${f[this.selectedGame].theme}" .background="${this.splashBackgrounds[this.selectedGame]}"></splash-screen>`:b}renderGameTemplate(){return this.currentPage!==z.GAME_PAGE?b:c`<gameplay-screen .selectedGame="${this.selectedGame}" @updateCurrentPage="${this.updateCurrentPage}" @finishGame="${this.finishGame}"></gameplay-screen>`}renderEndTemplate(){return this.currentPage===z.GAME_END_PAGE&&this.selectedGame?c`<feature-discovery-screen class="${this.getHasPlayedAllGames()?"played-all-games":this.selectedGame??""}" .selectedGame="${this.selectedGame}" .finishedGames="${this.finishedGames}" .theme="${f[this.selectedGame].theme}" .playedAllGames="${this.getHasPlayedAllGames()}" @goToNextGame="${this.goToNextGame}" @emitIsOnLastPage="${this.emitIsOnLastPage}" .background="${this.featureDiscoveryBackgrounds[this.selectedGame]}"></feature-discovery-screen>`:b}};V.styles=u(`:host{display:block;inline-size:100%;block-size:100%}
`),ie([l()],V.prototype,"currentPage",2),ie([d()],V.prototype,"splashBackgrounds",2),ie([d()],V.prototype,"featureDiscoveryBackgrounds",2),ie([l()],V.prototype,"selectedGame",2),ie([l({type:Array})],V.prototype,"finishedGames",2),ie([l({type:Boolean})],V.prototype,"isOpen",2),ie([l()],V.prototype,"emitIsOnLastPage",2),V=ie([p("page-game")],V);var Ui=Object.defineProperty,ji=Object.getOwnPropertyDescriptor;let Xe=class extends g{constructor(){super(...arguments),this.backgroundSrc="https://lh3.googleusercontent.com/sIAcnlAKZU3_-uvAahvhWt_QyvMpJbK6TVEIAbB1LgRIY8CAYzDJDpFqOQ0pw-YzYXThBcQ48j82dUUoeNdZEiDWJeIQh-_MMh5da80fXlZtd3Rp-sOV",this.androidSrc="https://lh3.googleusercontent.com/BcSyxNB-zHFMaPQ6UzjY7479AJ_Pj-NFZ1v7Wzr13kcdwtky5UzDSGi6B_aCqR5RwFp3cZGaU6K0PwuvVdMUrtGd095JilUKHuKuNp3D5m6T9eGK2aE"}renderInfoDiv(){return c`<div class="info played-all-games"><atom-icon class="flag-alt-icon" icon="${k.GAME_ON_LOGO}"></atom-icon><div class="text-container"><h2 class="title">${m.general.featureDiscoveryPage.title}</h2><div class="description played-all-games">${m.general.featureDiscoveryPage.description}</div></div></div>`}renderBackgroundImage(){return c`<img class="background" src="${this.backgroundSrc}" alt="share-background">`}renderAndroidImage(){return c`<img class="droid" src="${this.androidSrc}" alt="mclaren-android">`}clickShareX(){}render(){return c`${this.renderBackgroundImage()}<div class="content-container">${this.renderInfoDiv()} ${this.renderAndroidImage()}</div><div class="button-container"><div class="share-container"><p class="share-text">Share</p><div class="share-buttons"><a href="https://twitter.com/intent/tweet?text=I%20discovered%20the%20upcoming%20Android%20features.%20Now%20it%E2%80%99s%20your%20turn.%20Play%20Android%20Game%20On!%20%E2%9E%A1%EF%B8%8F%20&url=android.com%2Fandroid-15-games.&hashtags=GoogleIO,Android" class="share-button x" target="_blank"><atom-icon class="icon" .icon="${k.X}"></atom-icon></a><a href="https://www.facebook.com/sharer.php?u=http%3A%2F%2Fandroid.com%2Fandroid-15-games%2F" class="share-button facebook" target="_blank"><atom-icon class="icon" .icon="${k.FACEBOOK}"></atom-icon></a></div></div><a class="learn-more-link" href="https://www.youtube.com/playlist?list=PLOcMSsuppV4propYEqgQZ3FoVTAgF5Sxq" target="_blank"><atom-button class="button" variant="white" .icon="${k.NONE}" text="${m.general.shareScreenReturnCta}"></atom-button></a></div>`}};Xe.styles=u(`:host{display:flex;inline-size:100%;block-size:100%;position:relative;min-inline-size:100%;z-index:0}.background{inline-size:100%;min-inline-size:100%}.content-container{position:absolute;inline-size:100%;min-inline-size:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;row-gap:38px}.button-container{position:absolute;inset:auto 0 0;padding:0 43px 48px;box-sizing:border-box;display:flex;flex-direction:column;gap:16px;inline-size:fit-content;margin-inline:auto}.button{inline-size:100%}.droid{width:330px}.info{display:flex;flex-direction:column;padding:48px 24px 0;align-items:center;justify-content:start;inline-size:100%;block-size:fit-content;box-sizing:border-box;z-index:1;row-gap:32px}.info .text-container{display:flex;flex-direction:column;align-items:center;justify-content:start;block-size:fit-content;width:288px}.info .title{font-size:16px;line-height:24px;letter-spacing:.25px;margin:0}.info .description{font-size:16px;line-height:24px;text-align:center}.share-container{display:flex;inline-size:100%;gap:10px;justify-content:center;align-items:center}.share-text{margin:0;font-size:16px;line-height:24px;letter-spacing:.25px;font-weight:700}.share-buttons{display:flex;gap:7px}.share-button{border:none;background:var(--color-dark);width:69px;height:40px;display:flex;align-items:center;justify-content:center;color:var(--color-light);border-radius:100px}.share-button.x .icon{width:18px;height:18px}.share-button.facebook .icon{width:22px;height:22px}.learn-more-link{text-decoration:none}
`),Xe=((e,t,s,a)=>{for(var n,i=a>1?void 0:a?ji(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Ui(t,s,i),i})([p("share-screen")],Xe);const Yi=[{gameId:o.GOOGLE_CAST,load:"onGoogleCastGameLoad",end:"onGoogleCastGameEnd"},{gameId:o.GOOGLE_PLAY_PROTECT,load:"onGooglePlayProtectGameLoad",end:"onGooglePlayProtectGameEnd"},{gameId:o.PRIVATE_SPACE,load:"onPrivateSpaceGameLoad",end:"onPrivateSpaceGameEnd"},{gameId:o.THEFT_DETECTION,load:"onTheftDetectionGameLoad",end:"onTheftDetectionGameEnd"},{gameId:o.CIRCLE_TO_SEARCH,load:"onCircleToSearchGameLoad",end:"onCircleToSearchGameEnd"},{gameId:o.GEMINI_ON_ANDROID,load:"onGeminiOnAndroidGameLoad",end:"onGeminiOnAndroidGameEnd"}];var Zi=Object.defineProperty,Wi=Object.getOwnPropertyDescriptor,T=(e,t,s,a)=>{for(var n,i=a>1?void 0:a?Wi(t,s):t,r=e.length-1;r>=0;r--)(n=e[r])&&(i=(a?n(t,s,i):n(i))||i);return a&&i&&Zi(t,s,i),i};let y=class extends g{constructor(){super(...arguments),this.finishedGames=[],this.isModalOpen=!1,this.finishedAllGames=!1,this.isOnLastPage=!1,this.currentPage=z.GAME_SELECTION_PAGE}connectedCallback(){super.connectedCallback(),document.addEventListener("miniGameLoaded",this.onMiniGameLoadHandler.bind(this)),document.addEventListener("miniGameEnded",this.onMiniGameLoadHandler.bind(this)),this.emitIsOnLastPage=this.emitIsOnLastPage.bind(this),this.classList.add("is-scrollable"),this.startGame&&(this.selectedGame=this.startGame,this.openGameModal())}onMiniGameLoadHandler(e){const t=(s=e.detail,Yi.find(i=>i.gameId===s));var s;if(!t)return;let a=this[t.load];a=e.type==="miniGameLoaded"?a:this[t.end];const n=window[a];a&&n&&n()}willUpdate(e){const t=e.get("startGame");t&&(this.selectedGame=t),e.has("finishedGames")&&(this.finishedAllGames=this.finishedGames.length===ae.length)}setSelectedGame({detail:{value:e}}){this.selectedGame=e,this.currentPage=z.GAME_START_PAGE}finishGame(){this.selectedGame&&!this.finishedGames.includes(this.selectedGame)&&(this.finishedGames=[...this.finishedGames,this.selectedGame])}openGameModal(){this.classList.remove("is-scrollable"),this.isModalOpen=!0}closeGameModal(){this.classList.add("is-scrollable"),this.isModalOpen=!1,setTimeout(()=>{this.currentPage=z.GAME_SELECTION_PAGE,this.isOnLastPage=!1},500)}emitIsOnLastPage(){this.isOnLastPage=!0}render(){return c`${this.renderGameSelectionScreen()} ${this.renderModalPage()}`}renderGameSelectionScreen(){return this.finishedAllGames?c`<share-screen></share-screen>`:c`<a15-mini-games-selection-screen .finishedGames="${this.finishedGames}" @setSelectedGame="${this.setSelectedGame}" @openGameModal="${this.openGameModal}"></a15-mini-games-selection-screen>`}renderModalPage(){return c`<page-modal .isOpen="${this.isModalOpen}" .finishedAllGames="${this.isOnLastPage}" @closeGameModal="${this.closeGameModal}"><page-game .isOpen="${this.isModalOpen}" .selectedGame="${this.selectedGame}" .finishedGames="${this.finishedGames}" .currentPage="${this.currentPage}" @setSelectedGame="${this.setSelectedGame}" @closeGameModal="${this.closeGameModal}" @finishGame="${this.finishGame}" .emitIsOnLastPage="${this.emitIsOnLastPage}"></page-game></page-modal>`}};y.styles=u(`:host{display:flex;position:relative;inline-size:100%;block-size:100%;box-sizing:border-box;overflow:hidden}:host(.is-scrollable){overflow:hidden auto}:host::-webkit-scrollbar{inline-size:0}.icon{aspect-ratio:1;width:20px}
`),T([l()],y.prototype,"onCircleToSearchGameEnd",2),T([l()],y.prototype,"onCircleToSearchGameLoad",2),T([l()],y.prototype,"onGeminiOnAndroidGameEnd",2),T([l()],y.prototype,"onGeminiOnAndroidGameLoad",2),T([l()],y.prototype,"onGoogleCastGameEnd",2),T([l()],y.prototype,"onGoogleCastGameLoad",2),T([l()],y.prototype,"onGooglePlayProtectGameEnd",2),T([l()],y.prototype,"onGooglePlayProtectGameLoad",2),T([l()],y.prototype,"onPrivateSpaceGameEnd",2),T([l()],y.prototype,"onPrivateSpaceGameLoad",2),T([l()],y.prototype,"onTheftDetectionGameEnd",2),T([l()],y.prototype,"onTheftDetectionGameLoad",2),T([l()],y.prototype,"startGame",2),T([d()],y.prototype,"finishedGames",2),T([d()],y.prototype,"selectedGame",2),T([d()],y.prototype,"isModalOpen",2),T([d()],y.prototype,"finishedAllGames",2),T([d()],y.prototype,"isOnLastPage",2),T([d()],y.prototype,"currentPage",2),y=T([p("a15-mini-games")],y);
